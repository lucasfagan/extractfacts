!function(e,t,n){function i(e,t){return typeof e===t}function r(){var e,t,n,r,o,s,a;for(var c in _)if(_.hasOwnProperty(c)){if(e=[],t=_[c],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(r=i(t.fn,"function")?t.fn():t.fn,o=0;o<e.length;o++)s=e[o],a=s.split("."),1===a.length?C[a[0]]=r:(!C[a[0]]||C[a[0]]instanceof Boolean||(C[a[0]]=new Boolean(C[a[0]])),C[a[0]][a[1]]=r),w.push((r?"":"no-")+a.join("-"))}}function o(e){var t=x.className,n=C._config.classPrefix||"";if(k&&(t=t.baseVal),C._config.enableJSClass){var i=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(i,"$1"+n+"js$2")}C._config.enableClasses&&(t+=" "+n+e.join(" "+n),k?x.className.baseVal=t:x.className=t)}function s(e,t){if("object"==typeof e)for(var n in e)F(e,n)&&s(n,e[n]);else{e=e.toLowerCase();var i=e.split("."),r=C[i[0]];if(2==i.length&&(r=r[i[1]]),"undefined"!=typeof r)return C;t="function"==typeof t?t():t,1==i.length?C[i[0]]=t:(!C[i[0]]||C[i[0]]instanceof Boolean||(C[i[0]]=new Boolean(C[i[0]])),C[i[0]][i[1]]=t),o([(t&&0!=t?"":"no-")+i.join("-")]),C._trigger(e,t)}return C}function a(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):k?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function c(){var e=t.body;return e||(e=a(k?"svg":"body"),e.fake=!0),e}function u(e,n,i,r){var o,s,u,l,d="modernizr",h=a("div"),f=c();if(parseInt(i,10))for(;i--;)u=a("div"),u.id=r?r[i]:d+(i+1),h.appendChild(u);return o=a("style"),o.type="text/css",o.id="s"+d,(f.fake?f:h).appendChild(o),f.appendChild(h),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(t.createTextNode(e)),h.id=d,f.fake&&(f.style.background="",f.style.overflow="hidden",l=x.style.overflow,x.style.overflow="hidden",x.appendChild(f)),s=n(h,e),f.fake?(f.parentNode.removeChild(f),x.style.overflow=l,x.offsetHeight):h.parentNode.removeChild(h),!!s}function l(e,t){return!!~(""+e).indexOf(t)}function d(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function h(e,t){return function(){return e.apply(t,arguments)}}function f(e,t,n){var r;for(var o in e)if(e[o]in t)return n===!1?e[o]:(r=t[e[o]],i(r,"function")?h(r,n||t):r);return!1}function p(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function g(t,i){var r=t.length;if("CSS"in e&&"supports"in e.CSS){for(;r--;)if(e.CSS.supports(p(t[r]),i))return!0;return!1}if("CSSSupportsRule"in e){for(var o=[];r--;)o.push("("+p(t[r])+":"+i+")");return o=o.join(" or "),u("@supports ("+o+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return n}function m(e,t,r,o){function s(){u&&(delete L.style,delete L.modElem)}if(o=i(o,"undefined")?!1:o,!i(r,"undefined")){var c=g(e,r);if(!i(c,"undefined"))return c}for(var u,h,f,p,m,v=["modernizr","tspan","samp"];!L.style&&v.length;)u=!0,L.modElem=a(v.shift()),L.style=L.modElem.style;for(f=e.length,h=0;f>h;h++)if(p=e[h],m=L.style[p],l(p,"-")&&(p=d(p)),L.style[p]!==n){if(o||i(r,"undefined"))return s(),"pfx"==t?p:!0;try{L.style[p]=r}catch(y){}if(L.style[p]!=m)return s(),"pfx"==t?p:!0}return s(),!1}function v(e,t,n,r,o){var s=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+M.join(s+" ")+s).split(" ");return i(t,"string")||i(t,"undefined")?m(a,t,r,o):(a=(e+" "+E.join(s+" ")+s).split(" "),f(a,t,n))}function y(e,t,i){return v(e,n,n,t,i)}var w=[],_=[],b={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){_.push({name:e,fn:t,options:n})},addAsyncTest:function(e){_.push({name:null,fn:e})}},C=function(){};C.prototype=b,C=new C,C.addTest("geolocation","geolocation"in navigator);var A=!1;try{A="WebSocket"in e&&2===e.WebSocket.CLOSING}catch(S){}C.addTest("websockets",A),C.addTest("localstorage",function(){var e="modernizr";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}}),C.addTest("webworkers","Worker"in e);var T=b._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];b._prefixes=T;var x=t.documentElement,k="svg"===x.nodeName.toLowerCase();k||!function(e,t){function n(e,t){var n=e.createElement("p"),i=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var e=w.elements;return"string"==typeof e?e.split(" "):e}function r(e,t){var n=w.elements;"string"!=typeof n&&(n=n.join(" ")),"string"!=typeof e&&(e=e.join(" ")),w.elements=n+" "+e,u(t)}function o(e){var t=y[e[m]];return t||(t={},v++,e[m]=v,y[v]=t),t}function s(e,n,i){if(n||(n=t),d)return n.createElement(e);i||(i=o(n));var r;return r=i.cache[e]?i.cache[e].cloneNode():g.test(e)?(i.cache[e]=i.createElem(e)).cloneNode():i.createElem(e),!r.canHaveChildren||p.test(e)||r.tagUrn?r:i.frag.appendChild(r)}function a(e,n){if(e||(e=t),d)return e.createDocumentFragment();n=n||o(e);for(var r=n.frag.cloneNode(),s=0,a=i(),c=a.length;c>s;s++)r.createElement(a[s]);return r}function c(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return w.shivMethods?s(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/[\w\-:]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(w,t.frag)}function u(e){e||(e=t);var i=o(e);return!w.shivCSS||l||i.hasCSS||(i.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),d||c(e,i),e}var l,d,h="3.7.3",f=e.html5||{},p=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,g=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,m="_html5shiv",v=0,y={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",l="hidden"in e,d=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){l=!0,d=!0}}();var w={elements:f.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:h,shivCSS:f.shivCSS!==!1,supportsUnknownElements:d,shivMethods:f.shivMethods!==!1,type:"default",shivDocument:u,createElement:s,createDocumentFragment:a,addElements:r};e.html5=w,u(t),"object"==typeof module&&module.exports&&(module.exports=w)}("undefined"!=typeof e?e:this,t);var N="Moz O ms Webkit",E=b._config.usePrefixes?N.toLowerCase().split(" "):[];b._domPrefixes=E;var F;!function(){var e={}.hasOwnProperty;F=i(e,"undefined")||i(e.call,"undefined")?function(e,t){return t in e&&i(e.constructor.prototype[t],"undefined")}:function(t,n){return e.call(t,n)}}(),b._l={},b.on=function(e,t){this._l[e]||(this._l[e]=[]),this._l[e].push(t),C.hasOwnProperty(e)&&setTimeout(function(){C._trigger(e,C[e])},0)},b._trigger=function(e,t){if(this._l[e]){var n=this._l[e];setTimeout(function(){var e,i;for(e=0;e<n.length;e++)(i=n[e])(t)},0),delete this._l[e]}},C._q.push(function(){b.addTest=s}),C.addAsyncTest(function(){var n,i,r=function(e){x.contains(e)||x.appendChild(e)},o=function(e){e.fake&&e.parentNode&&e.parentNode.removeChild(e)},u=function(e,t){var n=!!e;if(n&&(n=new Boolean(n),n.blocked="blocked"===e),s("flash",function(){return n}),t&&p.contains(t)){for(;t.parentNode!==p;)t=t.parentNode;p.removeChild(t)}};try{i="ActiveXObject"in e&&"Pan"in new e.ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(l){}if(n=!("plugins"in navigator&&"Shockwave Flash"in navigator.plugins||i),n||k)u(!1);else{var d,h,f=a("embed"),p=c();if(f.type="application/x-shockwave-flash",r(p),p.appendChild(f),!("Pan"in f||i))return u("blocked",f),void o(p);d=function(){return x.contains(p)?(x.contains(f)?(h=f.style.cssText,""!==h?u("blocked",f):u(!0,f)):u("blocked"),void o(p)):(p=t.body||p,f=a("embed"),f.type="application/x-shockwave-flash",p.appendChild(f),setTimeout(d,1e3))},setTimeout(d,10)}});var U=b.testStyles=u;C.addTest("touchevents",function(){var n;if("ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch)n=!0;else{var i=["@media (",T.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");U(i,function(e){n=9===e.offsetTop})}return n});var I=function(){var e=navigator.userAgent,t=e.match(/applewebkit\/([0-9]+)/gi)&&parseFloat(RegExp.$1),n=e.match(/w(eb)?osbrowser/gi),i=e.match(/windows phone/gi)&&e.match(/iemobile\/([0-9])+/gi)&&parseFloat(RegExp.$1)>=9,r=533>t&&e.match(/android/gi);return n||r||i}();I?C.addTest("fontface",!1):U('@font-face {font-family:"font";src:url("https://")}',function(e,n){var i=t.getElementById("smodernizr"),r=i.sheet||i.styleSheet,o=r?r.cssRules&&r.cssRules[0]?r.cssRules[0].cssText:r.cssText||"":"",s=/src/i.test(o)&&0===o.indexOf(n.split(" ")[0]);C.addTest("fontface",s)});var D="CSS"in e&&"supports"in e.CSS,R="supportsCSS"in e;C.addTest("supports",D||R);var M=b._config.usePrefixes?N.split(" "):[];b._cssomPrefixes=M;var z={elem:a("modernizr")};C._q.push(function(){delete z.elem});var L={style:z.elem.style};C._q.unshift(function(){delete L.style});var P=b.testProp=function(e,t,i){return m([e],n,t,i)};C.addTest("textshadow",P("textShadow","1px 1px")),b.testAllProps=v,b.testAllProps=y,function(){C.addTest("csscolumns",function(){var e=!1,t=y("columnCount");try{(e=!!t)&&(e=new Boolean(e))}catch(n){}return e});for(var e,t,n=["Width","Span","Fill","Gap","Rule","RuleColor","RuleStyle","RuleWidth","BreakBefore","BreakAfter","BreakInside"],i=0;i<n.length;i++)e=n[i].toLowerCase(),t=y("column"+n[i]),"breakbefore"!==e&&"breakafter"!==e&&"breakinside"!=e||(t=t||y(n[i])),C.addTest("csscolumns."+e,t)}(),C.addTest("flexbox",y("flexBasis","1px",!0)),C.addTest("csstransforms3d",function(){var e=!!y("perspective","1px",!0),t=C._config.usePrefixes;if(e&&(!t||"webkitPerspective"in x.style)){var n,i="#modernizr{width:0;height:0}";C.supports?n="@supports (perspective: 1px)":(n="@media (transform-3d)",t&&(n+=",(-webkit-transform-3d)")),n+="{#modernizr{width:7px;height:18px;margin:0;padding:0;border:0}}",U(i+n,function(t){e=7===t.offsetWidth&&18===t.offsetHeight})}return e}),r(),o(w),delete b.addTest,delete b.addAsyncTest;for(var j=0;j<C._q.length;j++)C._q[j]();e.Modernizr=C}(window,document),Modernizr.addTest("ios",function(){"use strict";return!!navigator.userAgent.match(/(iPod|iPhone|iPad)/i)}),Modernizr.addTest("android",function(){"use strict";return!!navigator.userAgent.match(/android/i)}),Modernizr.addTest("iemobile",function(){"use strict";return!!navigator.userAgent.match(/iemobile/i)}),Modernizr.addTest("ieunsupported",function(){"use strict";return navigator.userAgent.search(/MSIE ([2-9]|10)\./i)>=0}),Modernizr.addTest("ie",function(){"use strict";return navigator.userAgent.search(/\s+(MSIE|rv:11|Edge\/\d+\.)/)>=0}),Modernizr.addTest("edge",function(){"use strict";return navigator.userAgent.search(/\s+(Edge\/\d+\.)/)>=0}),function(e){var t=navigator.userAgent;e.HTMLPictureElement&&/ecko/.test(t)&&t.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",function(){var t,n=document.createElement("source"),i=function(e){var t,i,r=e.parentNode;"PICTURE"===r.nodeName.toUpperCase()?(t=n.cloneNode(),r.insertBefore(t,r.firstElementChild),setTimeout(function(){r.removeChild(t)})):(!e._pfLastSize||e.offsetWidth>e._pfLastSize)&&(e._pfLastSize=e.offsetWidth,i=e.sizes,e.sizes+=",100vw",setTimeout(function(){e.sizes=i}))},r=function(){var e,t=document.querySelectorAll("picture > img, img[srcset][sizes]");for(e=0;e<t.length;e++)i(t[e])},o=function(){clearTimeout(t),t=setTimeout(r,99)},s=e.matchMedia&&matchMedia("(orientation: landscape)"),a=function(){o(),s&&s.addListener&&s.addListener(o)};return n.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?a():document.addEventListener("DOMContentLoaded",a),o}())}(window),function(e,t,n){"use strict";function i(e){return" "===e||"	"===e||"\n"===e||"\f"===e||"\r"===e}function r(t,n){var i=new e.Image;return i.onerror=function(){x[t]=!1,te()},i.onload=function(){x[t]=1===i.width,te()},i.src=n,"pending"}function o(){P=!1,B=e.devicePixelRatio,j={},O={},y.DPR=B||1,q.width=Math.max(e.innerWidth||0,T.clientWidth),q.height=Math.max(e.innerHeight||0,T.clientHeight),q.vw=q.width/100,q.vh=q.height/100,v=[q.height,q.width,B].join("-"),q.em=y.getEmValue(),q.rem=q.em}function s(e,t,n,i){var r,o,s,a;return"saveData"===k.algorithm?e>2.7?a=n+1:(o=t-n,r=Math.pow(e-.6,1.5),s=o*r,i&&(s+=.1*r),a=e+s):a=n>1?Math.sqrt(e*t):e,a>n}function a(e){var t,n=y.getSet(e),i=!1;"pending"!==n&&(i=v,n&&(t=y.setRes(n),y.applySetCandidate(t,e))),e[y.ns].evaled=i}function c(e,t){return e.res-t.res}function u(e,t,n){var i;return!n&&t&&(n=e[y.ns].sets,n=n&&n[n.length-1]),i=l(t,n),i&&(t=y.makeUrl(t),e[y.ns].curSrc=t,e[y.ns].curCan=i,i.res||ee(i,i.set.sizes)),i}function l(e,t){var n,i,r;if(e&&t)for(r=y.parseSet(t),e=y.makeUrl(e),n=0;n<r.length;n++)if(e===y.makeUrl(r[n].url)){i=r[n];break}return i}function d(e,t){var n,i,r,o,s=e.getElementsByTagName("source");for(n=0,i=s.length;i>n;n++)r=s[n],r[y.ns]=!0,o=r.getAttribute("srcset"),o&&t.push({srcset:o,media:r.getAttribute("media"),type:r.getAttribute("type"),sizes:r.getAttribute("sizes")})}function h(e,t){function n(t){var n,i=t.exec(e.substring(h));return i?(n=i[0],h+=n.length,n):void 0}function r(){var e,n,i,r,o,c,u,l,d,h=!1,p={};for(r=0;r<a.length;r++)o=a[r],c=o[o.length-1],u=o.substring(0,o.length-1),l=parseInt(u,10),d=parseFloat(u),Q.test(u)&&"w"===c?((e||n)&&(h=!0),0===l?h=!0:e=l):G.test(u)&&"x"===c?((e||n||i)&&(h=!0),0>d?h=!0:n=d):Q.test(u)&&"h"===c?((i||n)&&(h=!0),0===l?h=!0:i=l):h=!0;h||(p.url=s,e&&(p.w=e),n&&(p.d=n),i&&(p.h=i),i||n||e||(p.d=1),1===p.d&&(t.has1x=!0),p.set=t,f.push(p))}function o(){for(n(V),c="",u="in descriptor";;){if(l=e.charAt(h),"in descriptor"===u)if(i(l))c&&(a.push(c),c="",u="after descriptor");else{if(","===l)return h+=1,c&&a.push(c),void r();if("("===l)c+=l,u="in parens";else{if(""===l)return c&&a.push(c),void r();c+=l}}else if("in parens"===u)if(")"===l)c+=l,u="in descriptor";else{if(""===l)return a.push(c),void r();c+=l}else if("after descriptor"===u)if(i(l));else{if(""===l)return void r();u="in descriptor",h-=1}h+=1}}for(var s,a,c,u,l,d=e.length,h=0,f=[];;){if(n(K),h>=d)return f;s=n(J),a=[],","===s.slice(-1)?(s=s.replace(W,""),r()):o()}}function f(e){function t(e){function t(){o&&(s.push(o),o="")}function n(){s[0]&&(a.push(s),s=[])}for(var r,o="",s=[],a=[],c=0,u=0,l=!1;;){if(r=e.charAt(u),""===r)return t(),n(),a;if(l){if("*"===r&&"/"===e[u+1]){l=!1,u+=2,t();continue}u+=1}else{if(i(r)){if(e.charAt(u-1)&&i(e.charAt(u-1))||!o){u+=1;continue}if(0===c){t(),u+=1;continue}r=" "}else if("("===r)c+=1;else if(")"===r)c-=1;else{if(","===r){t(),n(),u+=1;continue}if("/"===r&&"*"===e.charAt(u+1)){l=!0,u+=2;continue}}o+=r,u+=1}}}function n(e){return l.test(e)&&parseFloat(e)>=0?!0:d.test(e)?!0:"0"===e||"-0"===e||"+0"===e}var r,o,s,a,c,u,l=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,d=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(o=t(e),s=o.length,r=0;s>r;r++)if(a=o[r],c=a[a.length-1],n(c)){if(u=c,a.pop(),0===a.length)return u;if(a=a.join(" "),y.matchesMedia(a))return u}return"100vw"}t.createElement("picture");var p,g,m,v,y={},w=!1,_=function(){},b=t.createElement("img"),C=b.getAttribute,A=b.setAttribute,S=b.removeAttribute,T=t.documentElement,x={},k={algorithm:""},N="data-pfsrc",E=N+"set",F=navigator.userAgent,U=/rident/.test(F)||/ecko/.test(F)&&F.match(/rv\:(\d+)/)&&RegExp.$1>35,I="currentSrc",D=/\s+\+?\d+(e\d+)?w/,R=/(\([^)]+\))?\s*(.+)/,M=e.picturefillCFG,z="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",L="font-size:100%!important;",P=!0,j={},O={},B=e.devicePixelRatio,q={px:1,"in":96},$=t.createElement("a"),H=!1,V=/^[ \t\n\r\u000c]+/,K=/^[, \t\n\r\u000c]+/,J=/^[^ \t\n\r\u000c]+/,W=/[,]+$/,Q=/^\d+$/,G=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,X=function(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent&&e.attachEvent("on"+t,n)},Y=function(e){var t={};return function(n){return n in t||(t[n]=e(n)),t[n]}},Z=function(){var e=/^([\d\.]+)(em|vw|px)$/,t=function(){for(var e=arguments,t=0,n=e[0];++t in e;)n=n.replace(e[t],e[++t]);return n},n=Y(function(e){return"return "+t((e||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"});return function(t,i){var r;if(!(t in j))if(j[t]=!1,i&&(r=t.match(e)))j[t]=r[1]*q[r[2]];else try{j[t]=new Function("e",n(t))(q)}catch(o){}return j[t]}}(),ee=function(e,t){return e.w?(e.cWidth=y.calcListLength(t||"100vw"),e.res=e.w/e.cWidth):e.res=e.d,e},te=function(e){if(w){var n,i,r,o=e||{};if(o.elements&&1===o.elements.nodeType&&("IMG"===o.elements.nodeName.toUpperCase()?o.elements=[o.elements]:(o.context=o.elements,o.elements=null)),n=o.elements||y.qsa(o.context||t,o.reevaluate||o.reselect?y.sel:y.selShort),r=n.length){for(y.setupRun(o),H=!0,i=0;r>i;i++)y.fillImg(n[i],o);y.teardownRun(o)}}};p=e.console&&console.warn?function(e){console.warn(e)}:_,I in b||(I="src"),x["image/jpeg"]=!0,x["image/gif"]=!0,x["image/png"]=!0,x["image/svg+xml"]=t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),y.ns=("pf"+(new Date).getTime()).substr(0,9),y.supSrcset="srcset"in b,y.supSizes="sizes"in b,y.supPicture=!!e.HTMLPictureElement,y.supSrcset&&y.supPicture&&!y.supSizes&&!function(e){b.srcset="data:,a",e.src="data:,a",y.supSrcset=b.complete===e.complete,y.supPicture=y.supSrcset&&y.supPicture}(t.createElement("img")),y.supSrcset&&!y.supSizes?!function(){var e="data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw==",n="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",i=t.createElement("img"),r=function(){var e=i.width;2===e&&(y.supSizes=!0),m=y.supSrcset&&!y.supSizes,w=!0,setTimeout(te)};i.onload=r,i.onerror=r,i.setAttribute("sizes","9px"),i.srcset=n+" 1w,"+e+" 9w",i.src=n}():w=!0,y.selShort="picture>img,img[srcset]",y.sel=y.selShort,y.cfg=k,y.DPR=B||1,y.u=q,y.types=x,y.setSize=_,y.makeUrl=Y(function(e){return $.href=e,$.href}),y.qsa=function(e,t){return"querySelector"in e?e.querySelectorAll(t):[]},y.matchesMedia=function(){return e.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?y.matchesMedia=function(e){return!e||matchMedia(e).matches}:y.matchesMedia=y.mMQ,y.matchesMedia.apply(this,arguments)},y.mMQ=function(e){return e?Z(e):!0},y.calcLength=function(e){var t=Z(e,!0)||!1;return 0>t&&(t=!1),t},y.supportsType=function(e){return e?x[e]:!0},y.parseSize=Y(function(e){var t=(e||"").match(R);return{media:t&&t[1],length:t&&t[2]}}),y.parseSet=function(e){return e.cands||(e.cands=h(e.srcset,e)),e.cands},y.getEmValue=function(){var e;if(!g&&(e=t.body)){var n=t.createElement("div"),i=T.style.cssText,r=e.style.cssText;n.style.cssText=z,T.style.cssText=L,e.style.cssText=L,e.appendChild(n),g=n.offsetWidth,e.removeChild(n),g=parseFloat(g,10),T.style.cssText=i,e.style.cssText=r}return g||16},y.calcListLength=function(e){if(!(e in O)||k.uT){var t=y.calcLength(f(e));O[e]=t?t:q.width}return O[e]},y.setRes=function(e){var t;if(e){t=y.parseSet(e);for(var n=0,i=t.length;i>n;n++)ee(t[n],e.sizes)}return t},y.setRes.res=ee,y.applySetCandidate=function(e,t){if(e.length){var n,i,r,o,a,l,d,h,f,p=t[y.ns],g=y.DPR;if(l=p.curSrc||t[I],d=p.curCan||u(t,l,e[0].set),d&&d.set===e[0].set&&(f=U&&!t.complete&&d.res-.1>g,f||(d.cached=!0,d.res>=g&&(a=d))),!a)for(e.sort(c),o=e.length,a=e[o-1],i=0;o>i;i++)if(n=e[i],n.res>=g){r=i-1,a=e[r]&&(f||l!==y.makeUrl(n.url))&&s(e[r].res,n.res,g,e[r].cached)?e[r]:n;break}a&&(h=y.makeUrl(a.url),p.curSrc=h,p.curCan=a,h!==l&&y.setSrc(t,a),y.setSize(t))}},y.setSrc=function(e,t){var n;e.src=t.url,"image/svg+xml"===t.set.type&&(n=e.style.width,e.style.width=e.offsetWidth+1+"px",e.offsetWidth+1&&(e.style.width=n))},y.getSet=function(e){var t,n,i,r=!1,o=e[y.ns].sets;for(t=0;t<o.length&&!r;t++)if(n=o[t],n.srcset&&y.matchesMedia(n.media)&&(i=y.supportsType(n.type))){"pending"===i&&(n=i),r=n;break}return r},y.parseSets=function(e,t,i){var r,o,s,a,c=t&&"PICTURE"===t.nodeName.toUpperCase(),u=e[y.ns];(u.src===n||i.src)&&(u.src=C.call(e,"src"),u.src?A.call(e,N,u.src):S.call(e,N)),(u.srcset===n||i.srcset||!y.supSrcset||e.srcset)&&(r=C.call(e,"srcset"),u.srcset=r,a=!0),u.sets=[],c&&(u.pic=!0,d(t,u.sets)),u.srcset?(o={srcset:u.srcset,sizes:C.call(e,"sizes")},u.sets.push(o),s=(m||u.src)&&D.test(u.srcset||""),s||!u.src||l(u.src,o)||o.has1x||(o.srcset+=", "+u.src,o.cands.push({url:u.src,d:1,set:o}))):u.src&&u.sets.push({srcset:u.src,sizes:null}),u.curCan=null,u.curSrc=n,u.supported=!(c||o&&!y.supSrcset||s&&!y.supSizes),a&&y.supSrcset&&!u.supported&&(r?(A.call(e,E,r),e.srcset=""):S.call(e,E)),u.supported&&!u.srcset&&(!u.src&&e.src||e.src!==y.makeUrl(u.src))&&(null===u.src?e.removeAttribute("src"):e.src=u.src),u.parsed=!0},y.fillImg=function(e,t){var n,i=t.reselect||t.reevaluate;e[y.ns]||(e[y.ns]={}),n=e[y.ns],(i||n.evaled!==v)&&(n.parsed&&!t.reevaluate||y.parseSets(e,e.parentNode,t),n.supported?n.evaled=v:a(e))},y.setupRun=function(){H&&!P&&B===e.devicePixelRatio||o()},y.supPicture?(te=_,y.fillImg=_):!function(){var n,i=e.attachEvent?/d$|^c/:/d$|^c|^i/,r=function(){var e=t.readyState||"";o=setTimeout(r,"loading"===e?200:999),t.body&&(y.fillImgs(),n=n||i.test(e),n&&clearTimeout(o))},o=setTimeout(r,t.body?9:99),s=function(e,t){var n,i,r=function(){var o=new Date-i;t>o?n=setTimeout(r,t-o):(n=null,e())};return function(){i=new Date,n||(n=setTimeout(r,t))}},a=T.clientHeight,c=function(){P=Math.max(e.innerWidth||0,T.clientWidth)!==q.width||T.clientHeight!==a,a=T.clientHeight,P&&y.fillImgs()};X(e,"resize",s(c,99)),X(t,"readystatechange",r)}(),y.picturefill=te,y.fillImgs=te,y.teardownRun=_,te._=y,e.picturefillCFG={pf:y,push:function(e){var t=e.shift();"function"==typeof y[t]?y[t].apply(y,e):(k[t]=e[0],H&&y.fillImgs({reselect:!0}))}};for(;M&&M.length;)e.picturefillCFG.push(M.shift());e.picturefill=te,"object"==typeof module&&"object"==typeof module.exports?module.exports=te:"function"==typeof define&&define.amd&&define("picturefill",function(){return te}),y.supPicture||(x["image/webp"]=r("image/webp","data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA=="))}(window,document),Date.now||(Date.now=function(){"use strict";return(new Date).getTime()}),function(e){"use strict";var t,n=function(){},i=[];e.console=e.console||{},t=e.console,t.log||(t.log=n),t.debug||(t.debug=t.log),t.error||(t.error=t.log),t.info||(t.info=t.log),t.warn||(t.warn=t.log),t.trace||(t.trace=n),t.group||(t.group=function(e){"string"!=typeof e&&(e=Number(i.length+1).toString()),i.push(e),t.log("---- START GROUP: "+e)},t.groupCollapsed=t.group,t.groupEnd=function(){t.log("---- END GROUP: "+(i.length>0?i.pop():"???"))})}(window),function(e){"use strict";var t,n,i,r,o,s,a,c,u,l=[],d=[],h=null,f=function(){},p=function(){},g=[],m=!1,v=!1;if("undefined"==typeof e.performance&&(e.performance={}),e._perfRefForUserTimingPolyfill=e.performance,e.performance.userTimingJsNow=!1,e.performance.userTimingJsNowPrefixed=!1,e.performance.userTimingJsUserTiming=!1,e.performance.userTimingJsUserTimingPrefixed=!1,e.performance.userTimingJsPerformanceTimeline=!1,e.performance.userTimingJsPerformanceTimelinePrefixed=!1,"function"!=typeof e.performance.now){for(e.performance.userTimingJsNow=!0,d=["webkitNow","msNow","mozNow"],a=0;a<d.length;a++)if("function"==typeof e.performance[d[a]]){e.performance.now=e.performance[d[a]],e.performance.userTimingJsNowPrefixed=!0;break}t=+new Date,e.performance.timing&&e.performance.timing.navigationStart?t=e.performance.timing.navigationStart:"undefined"!=typeof process&&"function"==typeof process.hrtime&&(t=process.hrtime(),e.performance.now=function(){var e=process.hrtime(t);return 1e3*e[0]+1e-6*e[1]}),"function"!=typeof e.performance.now&&(Date.now?e.performance.now=function(){return Date.now()-t}:e.performance.now=function(){return+new Date-t})}if(u=e.performance.now(),"function"!=typeof e.performance.getEntries||"function"!=typeof e.performance.mark){for("function"==typeof e.performance.getEntries&&"function"!=typeof e.performance.mark&&(v=!0),e.performance.userTimingJsPerformanceTimeline=!0,l=["webkit","moz"],d=["getEntries","getEntriesByName","getEntriesByType"],a=0;a<d.length;a++)for(c=0;c<l.length;c++)h=l[c]+d[a].substr(0,1).toUpperCase()+d[a].substr(1),"function"==typeof e.performance[h]&&(e.performance[d[a]]=e.performance[h],e.performance.userTimingJsPerformanceTimelinePrefixed=!0);f=function(e){g.push(e),"measure"===e.entryType&&(m=!0)},o=function(){m&&(g.sort(function(e,t){return e.startTime-t.startTime}),m=!1)},p=function(e,t){for(a=0;a<g.length;)g[a].entryType!==e?a++:"undefined"!=typeof t&&g[a].name!==t?a++:g.splice(a,1)},("function"!=typeof e.performance.getEntries||v)&&(n=e.performance.getEntries,e.performance.getEntries=function(){var t;return o(),t=g.slice(0),v&&n&&(Array.prototype.push.apply(t,n.call(e.performance)),t.sort(function(e,t){return e.startTime-t.startTime})),t}),("function"!=typeof e.performance.getEntriesByType||v)&&(r=e.performance.getEntriesByType,e.performance.getEntriesByType=function(t){var n;if("undefined"==typeof t||"mark"!==t&&"measure"!==t)return v&&r?r.call(e.performance,t):[];for("measure"===t&&o(),n=[],a=0;a<g.length;a++)g[a].entryType===t&&n.push(g[a]);return n}),("function"!=typeof e.performance.getEntriesByName||v)&&(i=e.performance.getEntriesByName,e.performance.getEntriesByName=function(t,n){var r;if(n&&"mark"!==n&&"measure"!==n)return v&&i?i.call(e.performance,t,n):[];for("undefined"!=typeof n&&"measure"===n&&o(),r=[],a=0;a<g.length;a++)"undefined"!=typeof n&&g[a].entryType!==n||g[a].name===t&&r.push(g[a]);return v&&i&&(Array.prototype.push.apply(r,i.call(e.performance,t,n)),r.sort(function(e,t){return e.startTime-t.startTime})),r})}if("function"!=typeof e.performance.mark){for(e.performance.userTimingJsUserTiming=!0,l=["webkit","moz","ms"],d=["mark","measure","clearMarks","clearMeasures"],a=0;a<d.length;a++)for(c=0;c<l.length;c++)h=l[c]+d[a].substr(0,1).toUpperCase()+d[a].substr(1),"function"==typeof e.performance[h]&&(e.performance[d[a]]=e.performance[h],e.performance.userTimingJsUserTimingPrefixed=!0);s={},e.performance.timing&&e.performance.timing.responseEnd||(s.responseEnd=[u]),"function"!=typeof e.performance.mark&&(e.performance.mark=function(t){var n=e.performance.now();if("undefined"==typeof t)throw new SyntaxError("Mark name must be specified");if(e.performance.timing&&t in e.performance.timing)throw new SyntaxError("Mark name is not allowed");s[t]||(s[t]=[]),s[t].push(n),f({entryType:"mark",name:t,startTime:n,duration:0})}),"function"!=typeof e.performance.clearMarks&&(e.performance.clearMarks=function(e){e?s[e]=[]:s={},p("mark",e)}),"function"!=typeof e.performance.measure&&(e.performance.measure=function(t,n,i){var r,o=e.performance.now(),a=0;if("undefined"==typeof t)throw new SyntaxError("Measure must be specified");if(!n)return void f({entryType:"measure",name:t,startTime:0,duration:o});if(e.performance.timing&&n in e.performance.timing){if("navigationStart"!==n&&0===e.performance.timing[n])throw new Error(n+" has a timing of 0");a=e.performance.timing[n]-e.performance.timing.navigationStart}else{if(!(n in s))throw new Error(n+" mark not found");a=s[n][s[n].length-1]}if(r=o,i)if(r=0,e.performance.timing&&i in e.performance.timing){if("navigationStart"!==i&&0===e.performance.timing[i])throw new Error(i+" has a timing of 0");r=e.performance.timing[i]-e.performance.timing.navigationStart}else{if(!(i in s))throw new Error(i+" mark not found");r=s[i][s[i].length-1]}f({entryType:"measure",name:t,startTime:a,duration:r-a})}),"function"!=typeof e.performance.clearMeasures&&(e.performance.clearMeasures=function(e){p("measure",e)})}}(window);var CNN=window.CNN||{};if(CNN.Utils=CNN.Utils||function(e,t,n,i){"use strict";function r(e){var t=null;return"string"==typeof e&&Date.parse(e)?t=e:"number"==typeof e&&(t=new Date(Date.now()+e*S).toGMTString()),t}function o(e){var t,n=!0,r=function(e){return e!==i&&null!==e};for(t=0;t<arguments.length;t++)if(!r(arguments[t])){n=!1;break}return n}function s(e){var t,n=!0,i=function(e){return"object"==typeof e&&null!==e};for(t=0;t<arguments.length;t++)if(!i(arguments[t])){n=!1;break}return n}function a(e){var t,n=!0,i=function(e){return"string"==typeof e&&e.length>0};for(t=0;t<arguments.length;t++)if(!i(arguments[t])){n=!1;break}return n}function c(){var e,t,i={},r=0;if(n.cookie)for(e=n.cookie.split("; ");r<e.length;r++)t=e[r].split("="),i[t[0]]=decodeURIComponent(t[1])||null;return i}function u(e){return null!==l(e)}function l(e){var t=new RegExp("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)"),i=n.cookie.match(t);return i?i.pop():null}function d(e,t,i,s,a,c){var u="";o(e)&&o(t)&&(i=r(i),s=o(s)?s:"/",a=o(a)?a:"",c=o(c)?c:!1,u+=e+"="+encodeURIComponent(t),o(i)&&(u+=";expires="+i),s&&(u+=";path="+s),a&&(u+=";domain="+a),c&&(u+="; secure"),n.cookie=u)}function h(e,t,n,i){d(e,t,n,"/",".cnn.com",i)}function f(e,t,i){var r="";o(e)&&(t=o(t)?t:"/",i=o(i)?i:"",r+=e+"=;expires="+T,t&&(r+=";path="+t),i&&(r+=";domain="+i),n.cookie=r)}function p(e){f(e,"/",".cnn.com")}function g(e,n,i){var r;if("string"==typeof e&&e.length>0&&"string"==typeof n)if(A===!1)d(e,n,"session"===i?null:i,"/",".cnn.com",!1);else try{"session"===i?t.sessionStorage.setItem(e,n):(t.localStorage.setItem(e,n),"number"==typeof i?(r=new Date(Date.now()+i*S),t.localStorage.setItem(e+"__expires",r.getTime().toString(10))):"string"==typeof i&&"session"!==i&&(r=new Date(i),r.getTime()>Date.now()&&t.localStorage.setItem(e+"__expires",r.getTime().toString(10))))}catch(o){}}function m(e){if("string"==typeof e&&e.length>0){if(A===!1)return u(e);try{if(o(t.sessionStorage.getItem(e))||o(t.localStorage.getItem(e+"__expires")))return!0}catch(n){}}return!1}function v(e){if("string"==typeof e&&e.length>0)if(A===!1)f(e);else{try{t.localStorage.removeItem(e),t.localStorage.removeItem(e+"__expires")}catch(n){}try{t.sessionStorage.removeItem(e)}catch(n){}}}function y(e){var n,i=null;if("string"==typeof e&&e.length>0)try{A===!1?l(e):null!==(n=t.localStorage.getItem(e+"__expires"))?parseInt(n,10)>Date.now()?i=t.localStorage.getItem(e):v(e):(i=t.sessionStorage.getItem(e),o(i)||(i=t.localStorage.getItem(e)))}catch(r){}return i}function w(e){var n,i,r,o,s,a,c=e;if("function"==typeof t.btoa)try{n=t.btoa(c)}catch(u){n=t.btoa(e.replace(/[^\w\s\!\@\#\$\%\^\&\*\(\)\-\=\+\.\,\\\;\:\'\"\?]/,"-"))}else{if(i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),r="",o="",s=c.length%3,s>0)for(;3>s;s++)o+="=",c+="\x00";for(s=0;s<c.length;s+=3)s>0&&s/3*4%76===0&&(r+="\r\n"),a=(c.charCodeAt(s)<<16)+(c.charCodeAt(s+1)<<8)+c.charCodeAt(s+2),a=[a>>>18&63,a>>>12&63,a>>>6&63,63&a],r+=i[a[0]]+i[a[1]]+i[a[2]]+i[a[3]];n=r.substring(0,r.length-o.length)+o}return n}function _(e){var n,i,r,o,s,a,c,u,l=e;if("function"==typeof t.atob)try{n=t.atob(l)}catch(d){console.log(d.message,"\nString to decode: "+l)}else{for(i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),r={},u=0;u<i.length;u++)r[i[u]]=u;for(l=l.replace(new RegExp("[^"+i.join("")+"=]","g"),""),s="="===l.charAt(l.length-1)?"="===l.charAt(l.length-2)?"AA":"A":"",o="",l=l.substr(0,l.length-s.length)+s,a=0;a<l.length;a+=4)c=(r[l.charAt(a)]<<18)+(r[l.charAt(a+1)]<<12)+(r[l.charAt(a+2)]<<6)+r[l.charAt(a+3)],
o+=String.fromCharCode(c>>>16&255,c>>>8&255,255&c);n=o.substring(0,o.length-s.length)}return n}function b(e){return e.replace("#","")}function C(){return t.Modernizr.phone}var A,S=36e5,T="Thu, 01 Jan 1970 00:00:00 UTC";return A=function(){var e="__test_it";try{return t.localStorage.setItem(e,e),t.localStorage.removeItem(e),t.sessionStorage.setItem(e,e),t.sessionStorage.removeItem(e),!0}catch(n){return!1}}(),{exists:o,existsObject:s,existsString:a,getCookies:c,getCookie:l,cookieExists:u,setCookie:d,deleteCookie:f,setCNNCookie:h,deleteCNNCookie:p,storeLocalValue:g,hasLocalValue:m,deleteLocalValue:v,getLocalValue:y,b64Encode:w,b64Decode:_,stripHash:b,isPhone:C}}(jQuery,window,document),CNN.Features=CNN.Features||{},CNN.VideoConfig=CNN.VideoConfig||{},CNN.VideoConfig.liveStream=CNN.VideoConfig.liveStream||{},CNN.GeoCheck=function(e,t){"use strict";function n(){return o}function i(e){var t,n,i,r,s,a=!0;if(null!==o&&Array.isArray(e)===!0&&e.length>0)for(i=o.country+":"+o.region,r=i+":"+o.city.toLowerCase(),t=0;t<e.length;t++)s=e[t],"-"===s.charAt(0)?(s=s.slice(1),n=!1):n=!0,"*"===s?a=n:"#"===s.charAt(0)?o.continent===s.slice(1)&&(a=n):(2===s.length&&o.country===s||5===s.length&&i===s||s.length>6&&r===s)&&(a=n);return a}function r(){return CNN._geoCheckReadyEvent}var o=null;return CNN._geoCheckReadyEvent=!1,e.fn.extend({onGeoCheckReady:function(n){"function"==typeof n&&(CNN._geoCheckReadyEvent===!0?n(e):e(t).on("geoCheckReady",{handler:n},function(t){t=t||{},"object"==typeof t.data&&null!==t.data&&"function"==typeof t.data.handler&&t.data.handler(e)}))},triggerGeoCheckReady:function(){CNN._geoCheckReadyEvent=!0,e(t).trigger("geoCheckReady")}}),function(){var n,i;i=CNN.Utils.getCookie("geoData"),null!==i&&(n=i.split("|"),n.length>4&&(o={city:n[0],region:n[1],postCode:n[2],country:n[3],continent:n[4]})),e(t).triggerGeoCheckReady()}(),{getData:n,inTarget:i,isReady:r}}(jQuery,document),CNN=window.CNN||{},CNN.AdsConfig=CNN.AdsConfig||{},CNN.AdsConfig.aisOverride)!function(e,t){"use strict";var n=e.createElement("script"),i=e.getElementsByTagName("script")[0];n.type="text/javascript",n.src=("https:"===e.location.protocol?"https:":"http:")+t.AdsConfig.aisOverride,i.parentNode.insertBefore(n,i)}(document,window.CNN);else{if(CNN.AdsConfig.amazon=CNN.AdsConfig.amazon||{},CNN.Features=CNN.Features||{},window.AmazonDirectMatchBuy=function(){function e(e,t){return null!=e&&m.call(e,t)}function t(e){return"[object Function]"===y.call(e)}function n(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function i(e){return function(){e&&(e.apply(this,arguments),e=null)}}function r(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}function o(){return!!window.amznads}function s(e){if(w("removing PageLevelTarget: amznslots"),window.AdFuel.removePageLevelTarget("amznslots"),!o())return e?e():!0;var t=i(function(){var t=window.amznads.getTargeting();return w("setting amazon targeting",t),window.AdFuel.setBulkTargeting(t),window.AdFuel.removePageLevelTarget("azn_to","1"),window.AdFuel.addPageLevelTarget("azn_to","0"),e?e():!0});try{window.amznads.getAdsCallback(_,t,b)}catch(n){w("Exception thrown while requesting Amazon ads:",n),window.AdFuel.removePageLevelTarget("azn_to","1"),window.AdFuel.addPageLevelTarget("azn_to","0"),t()}}function a(){var e={};return o()&&(e=window.amznads.getTargeting(),n(e)||(e={})),e}function c(e){var t=e.getId();if(A.has(t)){var n=A.getKeys(t);if(n.length){w("clearing previous ad key-values: "+n.join(", "));for(var i=0,r=n.length;r>i;++i)e.setAdKeyValue(n[i],null);A.clearKeys(t)}}}function u(e,t,n){w("setting ad key-value: "+t+' = "'+n+'"'),A.addKey(e.getId(),t),e.setAdKeyValue(t,n)}function l(t){var n=a();c(t);for(var i in n)if(e(n,i)){var r=n[i];if(r instanceof Array)for(var o=0,s=r.length;s>o;++o)u(t,r[o],"1");else u(t,i,r)}}function d(e){e.getPlayerType()===CVP.FLASH&&(w("setAdKeyValuePairs(player)"),l(e))}function h(e){function t(){window.AdFuel.registerModule("amazon",{preDispatchCallback:function(e,t){try{w("preDispatch"),s(t)}catch(n){w("error setting targeting prior to dispatch",n),t(n)}},preRefreshCallback:function(e,t){try{w("preRefresh"),s(t)}catch(n){w("error refreshing targeting prior to refresh",n),t(n)}}}),window.AdFuel.addPageLevelTarget("azn_to","1")}w("initializing",e),e&&(_=e.amznkey||_,b=e.timeout||b),C||(C=!0,window.AdFuel?t():document.addEventListener?document.addEventListener("AdFuelCreated",t,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",t))}function f(e){return function(){return C?void e.apply(this,arguments):void w("ERROR: init() must be called first!")}}var p=Array.prototype,g=Object.prototype,m=g.hasOwnProperty,v=p.slice,y=g.toString,w=function(){};n(window.console)&&t(window.console.log)&&"true"==r("debug")&&(w=function(){var e=["[AdFuelModule - Amazon]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)});var _=window.location.hostname.toLowerCase().match(/^edition\.cnn\.com/)?"3288":"3159",b=1e3,C=!1,A=function(){function e(e){return e in r}function t(t,n){e(t)||(r[t]=[]),r[t].push(n)}function n(t){return e(t)?v.call(r[t]):[]}function i(t){return e(t)?(r[t].length=0,!0):!1}var r={};return{has:e,clearKeys:i,getKeys:n,addKey:t}}();return{requestAdRefresh:f(s),getTargetingData:f(a),setAdKeyValuePairs:f(d),isAmazonApiAvailable:o,init:h}}(),CNN.Features.enableAmazonDisplayAds===!0&&!function(e){var t=document,n=t.createElement("script"),i=t.getElementsByTagName("script")[0],r=/^(complete|loaded)$/,o=!1;n.type="text/javascript",n.async=!0,n.src=("https:"===document.location.protocol?"https:":"http:")+(CNN.AdsConfig.amazonOverride||"//c.amazon-adsystem.com/aax2/amzn_ads.js"),n.onload=n.onreadystatechange=function(){o||"readyState"in n&&r.test(n.readyState)||(n.onload=n.onreadystatechange=null,o=!0,e())},window.AmazonDirectMatchBuy?e():i.parentNode.insertBefore(n,i)}(function(){CNN.AdsConfig.amazon.amznkey?window.AmazonDirectMatchBuy.init(CNN.AdsConfig.amazon):window.AmazonDirectMatchBuy.init()}),function(){function e(e){return"[object Function]"===a.call(e)}function t(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function n(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}function i(e){function t(e){var t,n,i,r=document.cookie.split(";");for(t=0;t<r.length;t++)if(n=r[t].substr(0,r[t].indexOf("=")),i=r[t].substr(r[t].indexOf("=")+1),n=n.replace(/^\s+|\s+$/g,""),n==e)return decodeURIComponent(i);return""}function n(){var n={},r=t(i);if(window.crtg_content=r,r)for(var s=r.split(";"),a=0;a<s.length-1;a++){var c=s[a].split("="),l=c[0],d=c[1];n[l]=d,o.key||window.AdFuel.addPageLevelTarget(l,d)}for(var h in o)o.hasOwnProperty(h)&&!n[h]&&window.AdFuel.removePageLevelTarget(h);u("set criteo targeting",n),o=n,e&&(window.AdFuel.removePageLevelTarget("crt_to","1"),window.AdFuel.addPageLevelTarget("crt_to","0"),e())}var i="crtg_trnr",r="crtg_content",s="4157",a=Math.floor(99999999999*Math.random());c?n():(c=!0,function(e){var t=location.protocol+"//rtax.criteo.com/delivery/rta/rta.js?netId="+encodeURIComponent(s);t+="&cookieName="+encodeURIComponent(i),t+="&rnd="+a,t+="&varName="+encodeURIComponent(r);var n=document,o=n.createElement("script"),c=n.getElementsByTagName("script")[0],u=/^(complete|loaded)$/,l=!1;o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){l||"readyState"in o&&u.test(o.readyState)||(o.onload=o.onreadystatechange=null,l=!0,e())},c.parentNode.insertBefore(o,c)}(n))}function r(){function e(){window.AdFuel.registerModule("criteo",{preDispatchCallback:function(e,t){try{u("preDispatch"),i(t)}catch(n){u("error setting targeting prior to dispatch",n),t(n)}},preRefreshCallback:function(e,t){try{u("preRefresh"),i(t)}catch(n){u("error setting targeting prior to refresh",n),t(n)}}}),window.AdFuel.addPageLevelTarget("crt_to","1")}window.AdFuel?e():document.addEventListener?document.addEventListener("AdFuelCreated",e,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",e)}var o={};window.crtg_content="";var s=Object.prototype,a=s.toString,c=!1,u=function(){};t(window.console)&&e(window.console.log)&&"true"==n("debug")&&(u=function(){var e=["[AdFuelModule - Criteo]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)}),CNN.Features.enableCriteoAds===!0&&r()}(),function(){function e(e){return"[object Function]"===p.call(e)}function t(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function n(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}function i(){return"undefined"!=typeof window.innerWidth?(viewPortWidth=window.innerWidth,viewPortHeight=window.innerHeight):"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?(viewPortWidth=document.documentElement.clientWidth,viewPortHeight=document.documentElement.clientHeight):(viewPortWidth=document.getElementsByTagName("body")[0].clientWidth,viewPortHeight=document.getElementsByTagName("body")[0].clientHeight),[viewPortWidth,viewPortHeight]}function r(e){if(document.cookie){for(var t=document.cookie.split(";"),n=e+"=",i=0;i<t.length;i++){for(var r=t[i];" "==r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(n))return r.substring(n.length,r.length)}return null}return null}function o(){g("Adding Fastlane library to head of page.");var e=window.location.hostname.toLowerCase(),t=11078,n=e.search(/^cnnespanol\./)>=0,i=r("countryCode")||(r("CG")?r("CG").substr(0,r("CG").indexOf(":")):"");if(("US"!==i&&"CA"!==i&&2===i.length||e.search(/^(edition|arabic|cnnespanol)\./)>=0)&&(t=11016),g("Rubicon Account ID: "+t),g("Espanol: ",n),11078!=t||!n){var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=("https:"===document.location.protocol?"https:":"http:")+"//ads.rubiconproject.com/header/"+t+".js";var s=document.getElementsByTagName("script")[0];s.parentNode.appendChild(o)}}function s(e){clearTimeout(e),v.length=0}function a(e,t){g("Building slots for Fastlane",JSON.stringify(e));var n=setTimeout(function(){g("PreQueue Timeout Occurred."),window.AdFuel.addPageLevelTarget("fln_pqto","1")},1e3);v.push(n),window.rubicontag.cmd.push(function(){for(var r=[],o=1;o<e.length;o++){g("Checking Slot: ",e[o].rktr_slot_id);var a,c=e[o];(""==m||c.rktr_slot_id.indexOf("bnr_atf_01")>0)&&(g("Setting KW Ad Unit: ",c.rktr_ad_id),m=c.rktr_ad_id);var u={_atf_:"atf",_btf_:"btf",_mod_:"atf"},l=["160x600","300x250","300x600","320x50","728x90","970x90","970x250"],d=["_ns_","_nfs_"],h=["super-ad-zone","super_ad_zone"],f=["CNN/health","CNN/health/healthgrades","CNN/health/leaf","CNN/health/list","CNN/health/photos","CNN/health/specials","CNN/health/video","CNN/student-news"];for(var p in u)if(u.hasOwnProperty(p)&&c.rktr_slot_id&&c.rktr_slot_id.indexOf(p)>=0){var v=!0,y=!1;for(var w in d)c.rktr_slot_id.indexOf(d[w])>=0&&(g("Filtering out invalid slot type: ",d[w],c),v=!1);for(var _ in h)c.rktr_ad_id.indexOf(h[_])>=0&&(g("Filtering out invalid ad unit segment: ",h[_],c),v=!1);for(var b in f)c.rktr_ad_id==h[_]&&(g("Filtering out invalid ad unit: ",f[b],c),v=!1);for(var C=[],A=0;A<c.responsive.length;A++){var S=i(),T=c.responsive[A];!y&&T[0][0]<S[0]&&T[0][1]<S[1]&&(y=!0,C=T[1],"suppress"!=T[1][0]&&"suppress"!=C||(v=!1))}if(v&&C.length>0&&(g("Setting Sizes To Responsive Sizes: ",C),c.sizes=C),v)for(var x=0;x<c.sizes.length;x++){var k=c.sizes[x];"suppress"!==k&&(k=k.join("x")),l.indexOf(k)<0&&(g("Filtering out invalid size: ",k,c),c.sizes.splice(x,1))}if(0==c.sizes.length&&(v=!1,g("Filtering out slot with no valid sizes.",c.rktr_slot_id,c.rktr_ad_id)),v){g("Slot is a valid item for Rubicon Fastlane.");var N=u[p],E=document.getElementById(c.rktr_slot_id)?document.getElementById(c.rktr_slot_id).className.indexOf("adfuel-rendered")>=0:!1;if(g("Checking for cached Fastlane response for: ",c.rktr_slot_id),"undefined"!=typeof window.rubiconSlotDictionary[c.rktr_slot_id]||E)"undefined"==typeof window.rubiconSlotDictionary[c.rktr_slot_id]&&E?g("Element has already been rendered with an ad.  Skipping Fastlane auction for: ",c.rktr_slot_id):g("Using cached Fastlane response for: ",c.rktr_slot_id);else{g("Cached response not found. Defining Slot: ","/8664377/"+c.rktr_ad_id,c.sizes,c.rktr_slot_id),a=window.rubicontag.defineSlot("/8664377/"+c.rktr_ad_id,c.sizes,c.rktr_slot_id),g("Setting Position: ",N),a.setPosition(N);for(var F=c.targeting,U=0;U<F.length;U++){var I=F[U];"pos"==I[0]&&(Array.isArray(I[1])?(g("Setting POS Keyword For "+c.rktr_slot_id,I[1][0]),a.setFPI("pos",I[1][0])):(g("Setting POS Keyword For "+c.rktr_slot_id,I[1]),a.setFPI("pos",I[1])))}g("Setting Keyword For "+c.rktr_slot_id,c.rktr_ad_id),a.addKW(c.rktr_ad_id),r.push(a),window.rubiconSlotDictionary[c.rktr_slot_id]=a}}}}for(var D=m.split("/"),R=["site","section","subsection"],M=0;M<D.length&&3>M;M++)g("Setting FPI",R[M],D[M]),window.rubicontag.setFPI(R[M],D[M]);window.CNN&&window.CNN.getCapTopics&&window.rubicontag.setFPI("cap_topics",Object.getOwnPropertyNames(window.CNN.getCapTopics())),window.rubicontag.run(function(){s(n),t()},{slots:r})})}function c(e){g("setting fastlane targeting"),window.googletag.cmd.push(function(){var t=window.AdFuel.pageSlots;g({slots:e,gptSlots:t});for(var n={},i=0;i<e.length;i++){var r=e[i];if(g("Slot ID: ",r.rktr_slot_id),t[r.rktr_slot_id]){var o=t[r.rktr_slot_id];g("calling window.rubicontag.setTargetingForGPTSlot..."),window.rubicontag.setTargetingForGPTSlot(o),window.refreshableRubiconSlots[r.rktr_slot_id]=window.rubiconSlotDictionary[r.rktr_slot_id],delete window.rubiconSlotDictionary[r.rktr_slot_id];for(var s=o.getTargetingKeys(),a={},c=!1,u=0;u<s.length;u++)s[u].indexOf("rpfl_")>=0&&(g("removing fln_to=1 and setting fln_to=0 for "+o.getSlotElementId()),c||(window.AdFuel.addSlotLevelTarget(o.getSlotElementId(),"fln_to","0"),c=!0),g("Setting Fastlane Targeting...",{slot:o.getSlotElementId(),target:{key:s[u],value:o.getTargeting(s[u])}}),a[s[u]]=o.getTargeting(s[u]));n[r.rktr_slot_id]=a}}})}function u(e,t){g("preDispatch"),c(e),t()}function l(e,t){g("preRefresh");var n=[],i=[],r=window.AdFuel.pageSlots;e||(e=Object.getOwnPropertyNames(r));for(var o=0;o<e.length;o++){var s=e[o];if(g("Slot ID: ",s),r[s]){var a=r[s],u=a.getTargetingKeys();for(var l in u)if(u.hasOwnProperty(l)){var d=u[l];d.indexOf("rpfl")>=0&&window.AdFuel.removeSlotLevelTarget(s,d)}window.refreshableRubiconSlots[s]&&n.push(window.refreshableRubiconSlots[s]),i.push({rktr_slot_id:s})}}g("refreshing slots",{slotsToRefresh:n}),window.rubicontag.run(function(){c(i),t()},{slots:n})}function d(){window.AdFuel.setOptions({queueCallbackTimeoutInMilliseconds:1200,dispatchCallbackTimeoutInMilliseconds:1200,refreshCallbackTimeoutInMilliseconds:1200}),window.AdFuel.registerModule("Fastlane",{preQueueCallback:a,preDispatchCallback:u,preRefreshCallback:l})}function h(){o(),window.AdFuel?d():document.addEventListener?document.addEventListener("AdFuelCreated",d,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",d)}window.rubicontag=window.rubicontag||{},window.rubicontag.cmd=window.rubicontag.cmd||[];var f=Object.prototype,p=f.toString,g=function(){},m="";t(window.console)&&e(window.console.log)&&"true"==n("debug")&&(g=function(){var e=["[AdFuelModule - Fastlane/Rubicon]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)}),window.rubiconSlotDictionary={},window.refreshableRubiconSlots={};var v=[];CNN.Features.enableRubiconFastlane===!0&&h()}(),window.cnnad_haveCookie=function(e){return document.cookie&&(document.cookie.indexOf("; "+e+"=")>=0||0==document.cookie.indexOf(e+"="))},window.cnnad_readCookie=function(e){if(document.cookie){for(var t=document.cookie.split(";"),n=e+"=",i=0;i<t.length;i++){for(var r=t[i];" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(n))return r.substring(n.length,r.length)}return null}},window.turner_getGuid=function(){return window.cnnad_readCookie("ug")},function(){function e(e){return"[object Function]"===o.call(e)}function t(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function n(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}function i(){function e(){var e=window.turner_getGuid();s("setting guid targeting",{guid:e}),window.AdFuel.addPageLevelTarget("guid",e)}window.AdFuel?e():document.addEventListener?document.addEventListener("AdFuelCreated",e,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",e)}var r=Object.prototype,o=r.toString,s=function(){};if(t(window.console)&&e(window.console.log)&&"true"==n("debug")&&(s=function(){var e=["[AdFuelModule - Guid]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)}),window.cnnad_haveCookie("ugs"))i();else{var a="//www.ugdturner.com/xd.sjs",c=document,u=c.createElement("script"),l=c.getElementsByTagName("script")[0],d=/^(complete|loaded)$/,h=!1;u.type="text/javascript",u.async=!0,u.src=a,u.onload=u.onreadystatechange=function(){h||"readyState"in u&&d.test(u.readyState)||(u.onload=u.onreadystatechange=null,h=!0,i())},l.parentNode.insertBefore(u,l)}}(),window.Krux||((window.Krux=function(){window.Krux.q.push(arguments)}).q=[]),window.kvs=[],CNN.Features.enableKrux===!0&&!function(){function e(e){var t,n="kx"+e;return window.localStorage?window.localStorage[n]||"":navigator.cookieEnabled?(t=document.cookie.match(n+"=([^;]*)"),t&&decodeURIComponent(t[1])||""):""}window.Krux.user=e("user"),window.Krux.segments=e("segs")&&e("segs").split(",")||[];for(var t=0;t<window.Krux.segments.length;t++)window.kvs.length<20&&window.kvs.push(window.Krux.segments[t])}(),window.krux_getDESegments=function(){var e="&kxid=";return window.Krux.user&&(e+=window.Krux.user),e+="&kxseg="+window.kvs.join(",")},window.krux_getFWSegments=function(){return"kxseg="+window.kvs.join(",kxseg=")},window.krux_getUser=function(){return window.Krux.user},window.krux_getFWKeyValues=function(e,t){for(var n=e||"_fwu:386123:",i=t||35,r={},o=0;o<window.Krux.segments.length;o++)i>o&&(r[n+window.Krux.segments[o]]=1);return r},window.Krux.setControlTag=function(e){function t(e){return"[object Function]"===s.call(e)}function n(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function i(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}function r(){function e(){var e=window.Krux.user,t=window.Krux.segments;a("setting krux targeting",{kuid:e,ksg:t}),window.AdFuel.addPageLevelTarget("kuid",e),window.AdFuel.addPageLevelTarget("ksg",t)}window.AdFuel?e():document.addEventListener?document.addEventListener("AdFuelCreated",e,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",e)}var o=Object.prototype,s=o.toString,a=function(){};n(window.console)&&t(window.console.log)&&"true"==i("debug")&&(a=function(){var e=["[AdFuelModule - Krux]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)});var c=document,u=c.createElement("script"),l=c.getElementsByTagName("script")[0],d=/^(complete|loaded)$/,h=!1;u.type="text/javascript",u.async=!0;var f,p=(f=location.href.match(/\bkxsrc=([^&]+)/))&&decodeURIComponent(f[1]);u.src=/^https?:\/\/([^\/]+\.)?krxd\.net(:\d{1,5})?\//i.test(p)?p:"disable"===p?"":("https:"===location.protocol?"https:":"http:")+"//cdn.krxd.net/controltag?confid="+e,u.onload=u.onreadystatechange=function(){h||"readyState"in u&&d.test(u.readyState)||(u.onload=u.onreadystatechange=null,h=!0,r())},l.parentNode.insertBefore(u,l)},CNN.Features.enableKrux===!0){var controlTag=window.location.hostname.toLowerCase().match(/^edition\.cnn\.com/)?"ITb_9Zup":"ITb_4eqO";window.Krux.setControlTag(controlTag)}!function(){function e(){new RegExp(o);if(document.location.search){var e,t=document.location.search.search(o)+1;try{e=decodeURIComponent(document.location.search).search(o)+1}catch(n){e=t}return t||e}return!1}function t(){new RegExp(o);if(document.location.hash){var e,t=document.location.hash.search(o)+1;try{e=decodeURIComponent(document.location.hash).search(o)+1}catch(n){e=t}return t||e}return!1}function n(){new RegExp(o);if(document.referrer){var e,t=document.referrer.search(o)+1;try{e=decodeURIComponent(document.location.referrer).search(o)+1}catch(n){e=t}return t||e}return!1}function i(){if(e()||t()||n()){console.log("[AdFuelModule - PII Filter] Filtering DFP Request due to PII in query string.");for(var i=Object.getOwnPropertyNames(window.AdFuel),r=0;r<i.length;r++)window.AdFuel[i[r]]=function(){};window.googletag=null}}function r(){window.AdFuel?i():document.addEventListener?document.addEventListener("AdFuelCreated",i,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",i)}var o=/(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})/i;CNN.Features.enablePiiAdFilter===!0&&r()}(),function(){function e(e){return"[object Function]"===g.call(e)}function t(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function n(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}function i(){if(!m){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"===document.location.protocol?"https:":"http:")+h;var t=document.getElementsByTagName("script")[0];t.parentNode.appendChild(e),v("Added Proximic script to head of page.",h),m=!0}}function r(e,t){""!==e&&"undefined"!=typeof e&&(v("Setting data for DFP",e),window.AdFuel.addPageLevelTarget("pconid",e),window.AdFuel.removePageLevelTarget("prx_to","1"),window.AdFuel.addPageLevelTarget("prx_to","0"),t())}function o(e,t){var n,s,a=!0;try{for(!(document.location.hostname.indexOf("money")>=0)||window.CNNMONEY&&window.CNNMONEY.adTargets&&window.CNNMONEY.adTargets.c_type&&"article"==window.CNNMONEY.adTargets.c_type||(a=!1),s=1;s<e.length;s++)if(n=e[s].rktr_ad_id.toLowerCase(),n.search(/^cnn\/(video|homepage|(.+\/landing))/)<0&&a&&n.search(/^cnni\/(video|homepage|(.+\/(landing|main|video)))/)<0){i(),v("Waiting for data..."),setTimeout(function(){c++,v("SegmentData: ",f),""!==f&&"undefined"!=typeof f?(v("Proximic Data found!"),r(f,t)):l>c*u?o(e,t):(v("Proximic Timeout Occurred!"),window.AdFuel.addPageLevelTarget("prx_to","1"),t())},u);break}}catch(d){v("Error parsing Proximic data: ",d.message||"Unknown")}}function s(){window.AdFuel.registerModule("Proximic",{postQueueCallback:o}),window.AdFuel.addPageLevelTarget("prx_to","1")}function a(){window.AdFuel?s():document.addEventListener?document.addEventListener("AdFuelCreated",s,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",s)}var c=0,u=50,l=2e3,d=document.location.href;window.location.hostname.toLowerCase().match(/^train\.next\.cnn\.com/)&&d.replace("train.next.","www");var h="//segment-data-us-east.zqtk.net/turner-47fcf6?url="+encodeURIComponent(d),f="",p=Object.prototype,g=p.toString,m=!1,v=function(){};t(window.console)&&e(window.console.log)&&"true"==n("debug")&&(v=function(){var e=["[AdFuelModule - Proximic/comScore]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)}),window.gotSegmentData=function(e){e.data&&(v("Segment Data: ",e.data),f=e.data)},CNN.Features.enableProximic===!0&&a()}(),window.cnnad_transactionID=null,window.cnnad_getTransactionID=function(){return window.cnnad_transactionID||(window.cnnad_transactionID=Math.round((new Date).getTime()/1e3)+""+Math.floor(9007199254740992*Math.random())),window.cnnad_transactionID},window.turner_getTransactionId=window.cnnad_getTransactionID,window.turner_getTransactionId(),function(){function e(e){return"[object Function]"===o.call(e)}function t(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function n(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}function i(){var e=window.turner_getTransactionId();s("setting guid targeting",{transId:e}),window.AdFuel.addPageLevelTarget("transId",e)}var r=Object.prototype,o=r.toString,s=function(){};t(window.console)&&e(window.console.log)&&"true"==n("debug")&&(s=function(){var e=["[AdFuelModule - TransactionId]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)}),window.AdFuel?i():document.addEventListener?document.addEventListener("AdFuelCreated",i,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",i)}()}(function(){if(!window.Aspen){var VERSION="1.8.0",debug=-1!==[window.location.search,window.location.hash].join().search(/\bdmtdebug\b/),Class=function(){var e=!1,t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,n=function(){};return n.extend=function(n){function i(){!e&&this.init&&this.init.apply(this,arguments)}var r=this.prototype;e=!0;var o=new this;e=!1;for(var s in n)o[s]="function"==typeof n[s]&&"function"==typeof r[s]&&t.test(n[s])?function(e,t){return function(){var n=this._super;this._super=r[e];var i=t.apply(this,arguments);return this._super=n,i}}(s,n[s]):n[s];return i.prototype=o,i.constructor=i,i.extend=arguments.callee,i},n}();!function(e,t,n){function i(){var e=h;return e.loader={load:r,i:0},e}function r(e,t,n){var i="c"==t?x:T;return y=0,t=t||"j",E(e)?o(i,e,t,this.i++,f,n):(v.splice(this.i++,0,e),1==v.length&&s()),this}function o(e,n,i,r,o,a){function c(){!f&&l(d.readyState)&&(m.r=f=1,!y&&u(),d.onload=d.onreadystatechange=null,p(function(){b.removeChild(d)},0))}var d=t.createElement(e),f=0,m={t:i,s:n,e:a};d.src=d.data=n,!_&&(d.style.display="none"),d.width=d.height="0","object"!=e&&(d.type=i),d.onload=d.onreadystatechange=c,"img"==e?d.onerror=c:"script"==e&&(d.onerror=function(){m.e=m.r=1,s()}),v.splice(r,0,m),b.insertBefore(d,_?null:g),p(function(){f||(b.removeChild(d),m.r=m.e=f=1,u())},h.errorTimeout)}function s(){var e=v.shift();y=1,e?e.t?p(function(){"c"==e.t?a(e):c(e)},0):(e(),u()):y=0}function a(e){var n,i=t.createElement("link");if(i.href=e.s,i.rel="stylesheet",i.type="text/css",e.e||!A&&!w)i.onload=function(){n||(n=1,p(function(){u()},0))},e.e&&i.onload();else{var r=function(e){p(function(){if(!n)try{e.sheet.cssRules.length?(n=1,u()):r(e)}catch(t){1e3==t.code||"security"==t.message||"denied"==t.message?(n=1,p(function(){u()},0)):r(e)}},0)};r(i)}p(function(){n||(n=1,u())},h.errorTimeout),!e.e&&g.parentNode.insertBefore(i,g)}function c(e){var n,i=t.createElement("script");i.src=e.s,i.onreadystatechange=i.onload=function(){!n&&l(i.readyState)&&(n=1,u(),i.onload=i.onreadystatechange=null)},p(function(){n||(n=1,u())},h.errorTimeout),e.e?i.onload():g.parentNode.insertBefore(i,g)}function u(){for(var e=1,t=-1;v.length-++t&&(!v[t].s||(e=v[t].r)););e&&s()}function l(e){return!e||"loaded"==e||"complete"==e}var d,h,f=t.documentElement,p=e.setTimeout,g=t.getElementsByTagName("script")[0],m={}.toString,v=[],y=0,w="MozAppearance"in f.style,_=w&&!!t.createRange().compareNode,b=_?f:g.parentNode,C=e.opera&&"[object Opera]"==m.call(e.opera),A="webkitAppearance"in f.style,S=A&&"async"in t.createElement("script"),T=w?"object":C||S?"img":"script",x=A?"img":T,k=Array.isArray||function(e){return"[object Array]"==m.call(e)},N=function(e){return Object(e)===e},E=function(e){return"string"==typeof e},F=function(e){return"[object Function]"==m.call(e)},U=[],I={};h=function(e){function t(e,t){function n(e){if(E(e))r(e,c,t,0,o);else if(N(e))for(i in e)e.hasOwnProperty(i)&&r(e[i],c,t,i,o)}var i,o=!!e.test,s=o?e.yep:e.nope,a=e.load||e.both,c=e.callback;n(s),n(a),e.complete&&t.load(e.complete)}function r(e,t,r,s,a){var c=o(e),u=c.autoCallback;if(!c.bypass){if(t&&(t=F(t)?t:t[e]||t[s]||t[e.split("/").pop().split("?")[0]]),c.instead)return c.instead(e,t,r,s,a);r.load(c.url,c.forceCSS||!c.forceJS&&/css$/.test(c.url)?"c":n,c.noexec),(F(t)||F(u))&&r.load(function(){i(),t&&t(c.origUrl,a,s),u&&u(c.origUrl,a,s)})}}function o(e){var t,n,i=e.split("!"),r=U.length,o=i.pop(),s=i.length,a={url:o,origUrl:o,prefixes:i};for(n=0;s>n;n++)t=I[i[n]],t&&(a=t(a));for(n=0;r>n;n++)a=U[n](a);return a}var s,a,c=this.yepnope.loader;if(E(e))r(e,0,c,0);else if(k(e))for(s=0;s<e.length;s++)a=e[s],E(a)?r(a,0,c,0):k(a)?h(a):N(a)&&t(a,c);else N(e)&&t(e,c)},h.addPrefix=function(e,t){I[e]=t},h.addFilter=function(e){U.push(e)},h.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",d=function(){t.removeEventListener("DOMContentLoaded",d,0),t.readyState="complete"},0)),e.yepnope=i()}(this,this.document);var Ajax={requestMap:{},jsonpRegistry:{},_counter:0,request:function(e){e=Utils.extend({timeout:5e3,maxRetries:0},e||{}),e.tries=0,this._sendRequest(e)},_sendRequest:function(e){var t=this,n=this._createCallback(e),i=this._createScript(n);return i?(i.src=e.url,void(e.timeout&&setTimeout(function(){t._onError(n,e)},e.timeout))):(Utils.log("JSONP - unable to create script for request ",e.url),!1)},_onSuccess:function(id,obj,data){this.requestMap[id]&&(this._destroyRequest(id,obj),Utils.isString(data)&&(data=eval("("+data+")")),obj.success&&obj.success(data))},_onError:function(e,t){return this.requestMap[e]?(this._destroyRequest(e,t),t.tries++,t.maxRetries&&t.tries<t.maxRetries?(Utils.log("Request failed - resending"),void this._sendRequest(t)):void(t.error&&t.error(t.url))):void 0},_destroyRequest:function(e,t){if(t.jsonpCallback){var n=this._removeNameFromRegistry(t.jsonpCallback);if(!n)try{delete window[t.jsonpCallback]}catch(i){window[t.jsonpCallback]=void 0}}delete this.requestMap[e];var r=document.getElementById(this._getScriptName(e));r&&(r.parentNode.removeChild(r),r=null)},_createScript:function(e){var t=document.getElementsByTagName("head")[0];if(!t)return!1;var n=document.createElement("script");return n.type="text/javascript",e&&(n.id=this._getScriptName(e)),t.appendChild(n),n},_getScriptName:function(e){return"aspen_jsonp_"+e},_createCallback:function(e){var t=this;if(Utils.empty(e.jsonpCallback))return null;this._counter++;var n="request_"+this._counter;this.requestMap[n]=function(i){t._onSuccess(n,e,i)};this._addNameToRegistry(e.jsonpCallback);return window[e.jsonpCallback]=function(e){t.requestMap[n](e)},n},_addNameToRegistry:function(e){var t=this.jsonpRegistry;return t[e]?t[e]+=1:t[e]=1,t[e]},_removeNameFromRegistry:function(e){var t=this.jsonpRegistry;return t[e]&&(t[e]-=1,0===t[e]&&delete t[e]),t[e]}},BatchService=Class.extend({init:function(e){this._enabled=!1,this._queue=[],this._config=e,this._timer,this._firstPostTimer},start:function(e){if(this._config=e,this._enabled=!0,_analyticsConfig.batchMode==BATCH_MODE_TIMER){Utils.log("[aspen]","start timer");var t=this;this._timer=setTimeout(function(){t._postTimerEvent()},1e3*Number(_analyticsConfig.batchModeAmount));var n=Math.ceil(Math.random()*Number(_analyticsConfig.batchModeAmount));n==Number(_analyticsConfig.batchModeAmount)&&(n--,0>=n&&(n=.5)),Utils.log("[aspen]","random time: "+n),this._firstPostTimer=setTimeout(function(){t._firstPostTimerEvent()},1e3*n)}},add:function(e){return this._addToQueue(e),this._enabled?void(_analyticsConfig.enabled&&!this._config.batchThrottled?(_analyticsConfig.batchMode==BATCH_MODE_TOTAL?this._queue.length==_analyticsConfig.batchModeAmount&&this.post():_analyticsConfig.batchMode==BATCH_MODE_NONE?this.post():_analyticsConfig.batchMode!=BATCH_MODE_TIMER&&this.post(),this._queue.length>0&&("error"==e.eventType&&"undefined"!=typeof _analyticsConfig.highPriorityErrors?this.flushByError(e.eventData):"error"!=e.eventType&&"undefined"!=typeof _analyticsConfig.highPriorityEvents&&this.flushByEvent(e.eventType))):(_analyticsConfig.enabled&&Utils.log("[aspen]","Aspen is diabled via analyticsConfig. Message not added."),
this._config.batchThrottled&&Utils.log("[aspen]","Batching is throttled. Message not added."))):void Utils.log("[aspen]","Batch service not enabled. Queuing message.")},_addToQueue:function(e){Utils.log("[aspen]","Adding message to batch queue."),this._queue.push(e)},post:function(){if(this._config.postThrottled)Utils.log("[aspen]","Batch posting is throttled. Batch not posted.");else{var e={sessionId:this._config.sessionId,events:this._queue};if(Utils.log("[aspen]","send batch string"),"gzip"==_analyticsConfig.batchContentEncoding){var t="?aspenJson="+JSON.stringify(e),n=encodeURIComponent(t).replace(/%20/g,"+"),i=n;e=i}TransportManager.createRequest(_analyticsConfig.batchApi,e,this._postSuccess,this._postFailure,this),this._queue=[]}},_postTimerEvent:function(){Utils.log("[aspen]","postTimer - queue.length: "+this._queue.length),this._queue.length>0?(Utils.log("[aspen]","posting "+this._queue.length+" messages"),this.post()):Utils.log("[aspen]","no messages to post");var e=this;this._timer=setTimeout(function(){e._postTimerEvent()},1e3*Number(_analyticsConfig.batchModeAmount))},_firstPostTimerEvent:function(){Utils.log("[aspen]","firstPostTimer - queue.length: "+this._queue.length),this._queue.length>0?(Utils.log("[aspen]","posting "+this._queue.length+" messages"),this.post()):Utils.log("[aspen]","no messages to post")},_postSuccess:function(e){Utils.log("[aspen]","post success: "+e)},_postFailure:function(e){Utils.log("[aspen]","post failed: "+e)},flushByError:function(e){if("undefined"!=typeof e.errorCode){var t=e.errorCode,n=t.substring(0,2),i=t.substring(2,4),r=t.substring(4,6),o=t.substring(6),s=[];s=_analyticsConfig.highPriorityErrors.split(",");for(var a="",c="",u="",l="",d=[],h=[],f=[],p=[],g=0,m=s.length;m>g;++g)switch(g){case 0:a=String(s[g]),d=a.split("+");break;case 1:c=String(s[g]),h=c.split("+");break;case 2:u=String(s[g]),f=u.split("+");break;case 3:l=String(s[g]),p=l.split("+")}for(g=0,m=d.length;m>g;++g){var v=String(d[g]);if(n==v||"*"==v)for(var y=0,w=h.length;w>y;++y){var _=String(h[y]);if(i==_||"*"==_)for(var b=0,C=f.length;C>b;++b){var A=String(f[b]);if(r==A||"*"==A)for(var S=0,T=p.length;T>S;++S){var x=String(p[S]);o!=x&&"*"!=x||(Utils.log("[aspen","[flushByError] found match, flushing batch"),this.post())}}}}}},flushByEvent:function(e){for(var t=_analyticsConfig.highPriorityEvents.split(","),n=0,i=t.length;i>n;++n){var r=String(t[n]);r==e&&(Utils.log("[aspen]","[flushBatchByEvent] found match, flushing batch"),this.post())}},setSessionId:function(e){this._config.sessionId=e},setBatchThrottled:function(e){this._config.batchThrottled=e},setPostThrottled:function(e){this._config.postThrottled=e},disableTimer:function(){_analyticsConfig.batchMode==BATCH_MODE_TIMER&&clearTimeout(this._timer)}}),LoadState={WAITING:"loadStateWaiting",LOADING:"loadStateLoading",READY:"loadStateReady",FAILED:"loadStateFailed"},Aspen=window.Aspen={init:function(e,t){var n=this;if(Utils.undef(this.initialized))if(this.initialized=!0,this.ready=!1,this.batchService,this._isThrottled=!0,this.sessionId=-1,this._messageExcludes=[],this.timeDifference=0,this._shortId="",this._retryTimer,this._retries=0,this._retryTime=0,this._savedSession={},this._timestampStr="",this.sessionToken="",this._appName="",this._transportFormats=[],this._transportFormat="",this._transportFormatIndex=0,this._messageQueue=[],this.config={},this._loadState=LoadState.WAITING,this._configUrl="",this._configLoaded=!1,this._appInitCallback=t,_params=this._options=e,this._appName=_params.appName=_params&&_params.appName,_params.appVersion=_params&&_params.appVersion,_params.site=_params&&_params.site,_params.context=_params&&_params.context,_params.configBaseUrl=_params&&_params.configBaseUrl,_params.platform=_params&&_params.platform,_params.platformVersion=_params&&_params.platformVersion,Utils.empty(_params.appName))Utils.log("[aspen]","Unable to start Aspen, no appName provided");else if(Utils.empty(_params.site))Utils.log("[aspen]","Unable to start Aspen, no site provided");else{var i={};i.batchThrottled=!0,i.postThrottled=!0,this.batchService=new BatchService(i),this._loadState=LoadState.LOADING;var r=new DependencyManager;r.add(new Dependency(Utils.bind(n._loadConfigFile,n))),r.add(new Dependency(Utils.bind(n._loadRequiredJS,n))),r.onComplete(Utils.bind(n._onDependenciesLoaded,n)),r.onFailure(Utils.bind(n._onDependenciesLoadFailure,n)),r.load()}},_loadConfigFile:function(e,t){var n=_params.configBaseUrl;Utils.isNull(n)&&(n=ANALYTICS_BASE_URL+_params.appName+"/"+_params.site+"/"),Utils.log("[aspen]","Using config base path: "+n),this._configUrl=n+ANALYTICS_FILE+"?_="+Utils.timeBucket(15),Ajax.request({jsonpCallback:"aspen_onAnalyticsConfigReceived",url:this._configUrl,success:Utils.bind(this._loadConfigSuccess,this,e),error:Utils.bind(this._loadConfigFailure,this,t)})},_loadConfigSuccess:function(e,t){Utils.log("[aspen]","Config loaded successfully"),_analyticsConfig=Utils.extend(Utils.extend({},t["default"]||{}),t[_params.context]||{}),this.config=_analyticsConfig,Utils.undef(_analyticsConfig.batchMode)&&(_analyticsConfig.batchMode="total"),Utils.undef(_analyticsConfig.batchModeAmount)&&(_analyticsConfig.batchModeAmount="10"),Utils.undef(_analyticsConfig.helloRetryCount)&&(_analyticsConfig.helloRetryCount="5"),Utils.undef(_analyticsConfig.helloRetryTime)&&(_analyticsConfig.helloRetryTime="10000"),Utils.undef(_analyticsConfig.batchContentEncoding)&&(_analyticsConfig.batchContentEncoding="json"),Utils.undef(_analyticsConfig.aspenUserIdEnabled)&&(_analyticsConfig.aspenUserIdEnabled=!0),Utils.undef(_analyticsConfig.aspenUserIdHash)&&(_analyticsConfig.aspenUserIdHash="392aspenUID392"),Utils.undef(_analyticsConfig.transportFormats)?this._transportFormats.push(TransportFormat.JSONP):this._transportFormats=_analyticsConfig.transportFormats.split(","),this._transportFormat=this._transportFormats[this._transportFormatIndex],Utils.undef(_analyticsConfig.messageExcludes)?this._messageExcludes=[]:this._messageExcludes=_analyticsConfig.messageExcludes.split(",");var n={};n.transportFormats=this._transportFormats,n.servicesUrl=_analyticsConfig.servicesUrl,TransportManager.init(n),Utils.log("[aspen]","batchMode: ",_analyticsConfig.batchMode),Utils.log("[aspen]","batchModeAmount: ",_analyticsConfig.batchModeAmount),Utils.log("[aspen]","helloRetryCount: ",_analyticsConfig.helloRetryCount),Utils.log("[aspen]","helloRetryTime: ",_analyticsConfig.helloRetryTime),Utils.log("[aspen]","transportFormat: ",this._transportFormat),e&&e()},_loadConfigFailure:function(e,t){Utils.log("[aspen]","Config failed to load",t),e&&e()},_loadRequiredJS:function(e,t){var n=this;null!=window.JSON?this._loadRequiredJSSuccess(e):yepnope({load:"http://z.cdn.turner.com/xslo/cvp/easyxdm/js/json2.ugly.js",complete:function(){return window.JSON?void n._loadRequiredJSSuccess(e):void n._loadRequiredJSFailure(t)}})},_loadRequiredJSSuccess:function(e){Utils.log("[aspen]","External JS dependencies loaded successfully"),e&&e()},_loadRequiredJSFailure:function(e){Utils.log("[aspen]","External JS dependencies failed to load"),e&&e()},_onDependenciesLoaded:function(){this._loadState=LoadState.READY,Utils.log("[aspen]","_onDependenciesLoaded - all required dependencies successfully loaded."),Utils.undef(_analyticsConfig.enabled)||"true"!==_analyticsConfig.enabled?(Utils.log("[aspen]","analytics disabled via config"),this._initFailure()):(Utils.log("[aspen]","analytics enabled via config"),Utils.undef(_analyticsConfig.servicesUrl)||this._hello())},_onDependenciesLoadFailure:function(){this._loadState=LoadState.FAILED,Utils.log("[aspen]","_onDependenciesLoadFailure - one or more required dependencies failed to load.")},_hello:function(){Utils.log("[aspen]","hello");var e=Utils.getQueryVar("sessionToken");Utils.log("[aspen]","check querySessionToken: ",e),Utils.empty(e)||(this.sessionToken=e,this.send("authSessionReload",{}));var t={propertyName:_params.site,applicationName:_params.appName,applicationVersion:_params.appVersion,deviceType:"Javascript",deviceModel:"Javascript",deviceVersion:"Javascript",library:"Javascript",libraryVersion:VERSION,platformName:Utils.empty(_params.platform)?"Javascript":_params.platform,platformVersion:Utils.empty(_params.platformVersion)?VERSION:_params.platformVersion,aspenConfigUrl:this._configUrl,protocol:"1.0",pageUrl:document.URL};t=Utils.extend(t,this._options),_analyticsConfig.aspenUserIdEnabled&&(t.aspenUUIDToken=_analyticsConfig.aspenUserIdHash),Utils.empty(this.sessionToken)||(t.sessionToken=this.sessionToken),TransportManager.bootstrapTM(),TransportManager.createRequest(_analyticsConfig.helloApi,t,this._helloSuccess,this._helloFailure,this),this._retryTimer=setTimeout(Utils.bind(this._helloRetry,this),Number(_analyticsConfig.helloRetryTime)),this._isRetrying=!0},_helloSuccess:function(e){Utils.log("[aspen]","_helloSuccess"),clearTimeout(this._retryTimer),this._isThrottled="undefined"!=typeof e.throttled&&"no"!==e.throttled||this._isThrottled,this.sessionId="undefined"!=typeof e.sessionId?e.sessionId:this.sessionId,this._shortId="undefined"!=typeof e.shortId?e.shortId:this._shortId,this._timestampStr="undefined"!=typeof e.timestamp?e.timestamp:this.timeDifference,this.timeDifference=Number(this._timestampStr)-Utils.now(),"no"===e.throttled&&(this._isThrottled=!1),Utils.log("[aspen]","_helloSuccess"),Utils.log("[aspen]","config.throttled: "+e.throttled),Utils.log("[aspen]","throttled: "+this._isThrottled),Utils.log("[aspen]","sessionId: "+this.sessionId);var t={};t.batchThrottled=!1,t.postThrottled=!0,t.sessionId="",this.batchService.start(t),this.batchService.setSessionId(this.sessionId),this.batchService.setPostThrottled(this._isThrottled),this._initSuccess()},_helloFailure:function(e){Utils.log("[aspen]","_helloFailure url: "+e),TransportManager.fallback()&&this._hello()},_helloRetry:function(){Utils.log("[aspen]","helloRetry"),this._retries==_analyticsConfig.helloRetryCount?(Utils.log("[aspen]","retries exhasted"),clearTimeout(this._retryTimer),this._retries=0,1==TransportManager.fallback()?this._hello():(Utils.log("[aspen]","retries exhasted, fallbacks exhausted, aspen is disabled"),this._isThrottled=!0,this.batchService.setBatchThrottled(!0),this.batchService.setPostThrottled(!0),this.batchService.disableTimer())):(this._retries++,this._retryTime=this._retries*Number(_analyticsConfig.helloRetryTime),this._savedSession.retries=String(this._retries),this._savedSession.retryTime=String(this._retryTime),this._hello())},isMessageExcluded:function(e){return!!(_analyticsConfig&&_analyticsConfig.messageExcludes&&_analyticsConfig.messageExcludes.indexOf(e)>=0)},send:function(e,t,n){if("undefined"==typeof this._messageExcludes||-1===this._messageExcludes.indexOf(e)){if("undefined"==typeof t&&(t={}),!this.ready)return Utils.log("[aspen]","send - Aspen's not ready, queuing message"),void("undefined"!=typeof this._messageQueue&&this._messageQueue.push({message:t,type:e,appName:n}));if(this._isThrottled)Utils.log("[aspen]","Add message to batch is throttled! Message not added.");else{if(this.isMessageExcluded(e))return void Utils.log("[aspen]","message excluded by config, not added to batch",e);t.timestamp=Utils.now()+this.timeDifference,t.applicationName="undefined"!=typeof n?n:this._appName,delete t.session_id,delete t.sessionId,delete t.hbase_timestamp,delete t.type,Utils.log("[aspen]","appName: "+t.applicationName);var i={};i.eventType=e,i.eventData=t,Utils.log("[aspen]","add to batch json message: "+JSON.stringify(i)),this.batchService.add(i)}}},setSessionToken:function(e){this.sessionToken=e},_initSuccess:function(){this.ready=!0;for(var e=0,t=this._messageQueue.length;t>e;e++)this.send(this._messageQueue[e].type,this._messageQueue[e].message);this.send("aspenConfigDetails",_analyticsConfig);var n={};n.screenWidth=screen.width,n.screenHeight=screen.height,n.browserName=navigator.appName,n.userAgent=navigator.userAgent,n.platform=navigator.platform,this.send("systemInfo",n),this._initSuccess=function(){},this._appInitCallback&&this._appInitCallback()},_initFailure:function(){},getVersion:function(){return VERSION},getSessionId:function(e){return this.sessionId},getShortId:function(e){return this._shortId},isThrottled:function(e){return this._isThrottled},getThrottled:function(e){return this._isThrottled?"yes":"no"}},DependencyManager=function(){this._dependencies=[],this._loadedCount=0,this._successHandlers=[],this._failureHandlers=[],this.add=function(e){this._dependencies.push({dependency:e,success:!1});var t=this._dependencies.length-1;e.onComplete(Utils.bind(this._onDependencyLoaded,this,t,!0)),e.onFailure(Utils.bind(this._onDependencyLoaded,this,t,!1))},this.load=function(){for(var e=0,t=this._dependencies.length;t>e;e++)this._dependencies[e].dependency.load()},this.onComplete=function(e){this._successHandlers.push(e)},this.onFailure=function(e){this._failureHandlers.push(e)},this._onDependencyLoaded=function(e,t){++this._loadedCount,this._dependencies[e].success=t,this._loadedCount===this._dependencies.length&&this._onAllDependenciesLoaded()},this._onAllDependenciesLoaded=function(){this._loadedCount=0;for(var e=!0,t=0,n=this._dependencies.length;n>t;t++)if(!this._dependencies[t].success){e=!1;break}var i=e?this._successHandlers:this._failureHandlers;for(t=0,n=i.length;n>t;t++)i[t]()}},Dependency=function(e){this._func=e,this._successHandlers=[],this._failureHandlers=[],this.load=function(){this._func(Utils.bind(this._onSuccess,this),Utils.bind(this._onFailure,this))},this.onComplete=function(e){this._successHandlers.push(e)},this.onFailure=function(e){this._failureHandlers.push(e)},this._onSuccess=function(){for(var e=0,t=this._successHandlers.length;t>e;e++)this._successHandlers[e]()},this._onFailure=function(){for(var e=0,t=this._failureHandlers.length;t>e;e++)this._failureHandlers[e]()}},AspenComm=function(){var e,t,n,i,r,o,s="http://aspen.turner.com",a=!1,c=[];return t=function(i){Utils.log("[aspen]","[easyXDM]","init",i),s=i,e=new window.CVPAux.easyXDM.Rpc({swf:"http://z.cdn.turner.com/xslo/cvp/easyxdm/swf/easyxdm.swf",remote:s+"/static/xdm_iframe.html"},{remote:{request:{}}}),Utils.log("[aspen]","[easyXDM]","init AspenComm"),a=!0,t=function(){try{throw"already init'ed - ignored"}catch(e){}},n()},i=function(e,t,n){a?o(e,t,n):r(e,t,n)},r=function(){c.push(arguments)},n=function(){for(var e=0,t=c.length;t>e;++e)o.apply(null,c[e])},o=function(t,n,i){Utils.log("[aspen]","[easyXDM]","make request",t);var r,o,s;r=Utils.extend(Utils.extend({method:"POST"},t||{})),o=function(e){var t=e.data;if("string"==typeof t&&t.charAt(0).match(/[{[]/))try{t=JSON.parse(t)}catch(i){Utils.log(i)}Utils.log("[aspen]","[easyXDM]","request success",e),n(t,e.status,e.headers)},s=function(e){var t=e.data;if("string"==typeof t&&t.charAt(0).match(/[{[]/))try{t=JSON.parse(t)}catch(n){Utils.log(n)}i(t,e.status,e.message)},e.request(r,o,s)},{init:t,request:i}}(),bootstrap=function(e){Utils.log("[aspen]","[easyXDM]","bootstrap",e),window.CVPAux=window.CVPAux||{},yepnope({test:null!=window.CVPAux.easyXDM,nope:"http://z.cdn.turner.com/xslo/cvp/easyxdm/js/easyXDM.ugly.js",complete:function(){if(window.easyXDM)window.CVPAux.easyXDM=easyXDM.noConflict("CVPAux"),yepnope({test:null!=window.JSON,nope:"http://z.cdn.turner.com/xslo/cvp/easyxdm/js/json2.ugly.js",complete:function(){if(!window.JSON)try{throw"failed to install JSON polyfill"}catch(t){}e()}});else try{throw"failed to install easyXDM"}catch(t){}}})},ANALYTICS_BASE_URL="http://z.cdn.turner.com/xslo/aspen/config/",ANALYTICS_FILE="aspenanalytics.json",BATCH_MODE_TOTAL="total",BATCH_MODE_TIMER="timer",BATCH_MODE_NONE="none",_params={},_analyticsConfig={},TransportFormat={JSON:"json",JSONP:"jsonp"},TransportManager={init:function(e){this._config=e,this._transportFormat=this._config.transportFormats[0],this._bootstrapped=!1},bootstrapTM:function(){if(Utils.log("[aspen]","TransportManager","bootstrap","_bootstrapped:",this._bootstrapped),this._transportFormat===TransportFormat.JSON&&!this._bootstrapped){var e=this._config.servicesUrl;bootstrap(function(){AspenComm.init(e)}),this._bootstrapped=!0,Utils.log("[aspen]","TransportManager","bootstrap","transportFormat",this._transportFormat)}},createRequest:function(e,t,n,i,r){if(Utils.log("[aspen]","TransportManager","createRequest"),this._transportFormat===TransportFormat.JSON)AspenComm.request({url:e+"."+this._transportFormat,data:{aspenJson:JSON.stringify(t)}},Utils.bind(n,r),Utils.bind(i,r));else if(this._transportFormat===TransportFormat.JSONP){var o=this._config.servicesUrl+e+"."+this._transportFormat;o+="?aspen_callback=parseAspenInitialization&aspenJson="+encodeURIComponent(JSON.stringify(t)).replace(/%20/g,"+"),Ajax.request({jsonpCallback:"parseAspenInitialization",url:o,error:Utils.bind(i,r),success:Utils.bind(n,r)})}},fallback:function(){return Utils.log("[aspen]","current transport format failed",this._transportFormat),this._config.transportFormats.shift(),this._config.transportFormats.length>0?(this._transportFormat=this._config.transportFormats[0],Utils.log("trying next transport format",this._transportFormat),!0):!1}},Utils={undef:function(e){return"undefined"==typeof e},isNull:function(e){return Utils.undef(e)||null===e},empty:function(e){return Utils.undef(e)||Utils.isNull(e)||""===e},isFunc:function(e){return"function"==typeof e},isObject:function(e){return"object"==typeof e},isString:function(e){return"string"==typeof e},extend:function(e,t){var n;e||(e={});for(n in t)e[n]=t[n];return e},log:function(){window.console&&window.console.log&&debug&&window.console.log(Utils.slice(arguments).join(" | ")),!Utils.undef(window.logJSAuth)&&Utils.isFunc(window.logJSAuth)&&debug&&window.logJSpAuth(Utils.slice(arguments).join(" | "))},now:"function"==typeof Date.now?Date.now:function(){return(new Date).getTime()},slice:function(e,t){return Array.prototype.slice.call(e,t||0)},bind:function(e,t){var n=Utils.slice(arguments,2);return function(){var i=n.concat(Utils.slice(arguments));return e.apply(t,i)}},setCookie:function(e,t,n){var i=new Date;i.setDate(i.getDate()+n);var r=escape(t)+(null==n?"":"; expires="+i.toUTCString());document.cookie=e+"="+r},getCookie:function(e){var t,n,i,r=document.cookie.split(";");for(t=0;t<r.length;t++)if(n=r[t].substr(0,r[t].indexOf("=")),i=r[t].substr(r[t].indexOf("=")+1),n=n.replace(/^\s+|\s+$/g,""),n==e)return unescape(i)},getQueryVar:function(e){for(var t=window.location.search.substring(1),n=t.split("&"),i=0;i<n.length;i++){var r=n[i].split("=");if(r[0]==e)return r[1]}},randomString:function(e){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split("");e||(e=Math.floor(Math.random()*t.length));for(var n="",i=0;e>i;i++)n+=t[Math.floor(Math.random()*t.length)];return n},timeBucket:function(e){var t=new Date,n=60*(24*t.getDate()+t.getHours())+t.getMinutes();return Math.round(n/e)}}}}).call(this),CNN.AdsConfig=CNN.AdsConfig||{},CNN.AdsConfig.amazon=CNN.AdsConfig.amazon||{},CNN.AmazonVideoAds=CNN.AmazonVideoAds||{},CNN.Features=CNN.Features||{},CNN.AmazonVideoAds.Manager=function(){"use strict";this.initialize=function(){var e={amznkey:CNN.AdsConfig.amazon.amznkey||"3159",timeout:"number"==typeof CNN.AdsConfig.amazon.timeout?CNN.AdsConfig.amazon.timeout:2e3};CNN.Features.enableAmazonVideoAds===!0&&"object"==typeof AmazonDirectMatchBuy&&AmazonDirectMatchBuy.init(e)},this.cvpAdSetup=function(e,t){CNN.Features.enableAmazonVideoAds&&"object"==typeof AmazonDirectMatchBuy&&(AmazonDirectMatchBuy.setAdKeyValuePairs(window.cnnVideoManager.getPlayerByContainer(e).videoInstance.cvp),AmazonDirectMatchBuy.requestAdRefresh())},this.addAmazonCallback=function(e){"undefined"!=typeof e&&(e.onAdSetup=this.cvpAdSetup)},this.initialize()},CNN.AmazonVideoAds.Manager.getInstance=function(){"use strict";return"undefined"==typeof window.amazonAdManager&&(window.amazonAdManager=new CNN.AmazonVideoAds.Manager),window.amazonAdManager},function(e){var t=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return"undefined"==typeof e},toStr:function(e){return t.isUndefined(e)||null===e?"":e+""},bind:e.proxy,each:function(t,n){function i(e,t){return n(t,e)}e.each(t,i)},map:e.map,filter:e.grep,every:function(t,n){var i=!0;return t?(e.each(t,function(e,r){return(i=n.call(null,r,e,t))?void 0:!1}),!!i):i},some:function(t,n){var i=!1;return t?(e.each(t,function(e,r){return(i=n.call(null,r,e,t))?!1:void 0}),!!i):i},mixin:e.extend,getUniqueId:function(){var e=0;return function(){return e++}}(),templatify:function(t){function n(){return String(t)}return e.isFunction(t)?t:n},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var i,r;return function(){var o,s,a=this,c=arguments;return o=function(){i=null,n||(r=e.apply(a,c))},s=n&&!i,clearTimeout(i),i=setTimeout(o,t),s&&(r=e.apply(a,c)),r}},throttle:function(e,t){var n,i,r,o,s,a;return s=0,a=function(){s=new Date,r=null,o=e.apply(n,i)},function(){var c=new Date,u=t-(c-s);return n=this,i=arguments,0>=u?(clearTimeout(r),r=null,s=c,o=e.apply(n,i)):r||(r=setTimeout(a,u)),o}},noop:function(){}}}(),n="0.10.5",i=function(){"use strict";function e(e){return e=t.toStr(e),e?e.split(/\s+/):[]}function n(e){return e=t.toStr(e),e?e.split(/\W+/):[]}function i(e){return function(){var n=[].slice.call(arguments,0);return function(i){var r=[];return t.each(n,function(n){r=r.concat(e(t.toStr(i[n])))}),r}}}return{nonword:n,whitespace:e,obj:{nonword:i(n),whitespace:i(e)}}}(),r=function(){"use strict";function n(n){this.maxSize=t.isNumber(n)?n:100,this.reset(),this.maxSize<=0&&(this.set=this.get=e.noop)}function i(){this.head=this.tail=null}function r(e,t){this.key=e,this.val=t,this.prev=this.next=null}return t.mixin(n.prototype,{set:function(e,t){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key]),(n=this.hash[e])?(n.val=t,this.list.moveToFront(n)):(n=new r(e,t),this.list.add(n),this.hash[e]=n,this.size++)},get:function(e){var t=this.hash[e];return t?(this.list.moveToFront(t),t.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new i}}),t.mixin(i.prototype,{add:function(e){this.head&&(e.next=this.head,this.head.prev=e),this.head=e,this.tail=this.tail||e},remove:function(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev},moveToFront:function(e){this.remove(e),this.add(e)}}),n}(),o=function(){"use strict";function e(e){this.prefix=["__",e,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+t.escapeRegExChars(this.prefix))}function n(){return(new Date).getTime()}function i(e){return JSON.stringify(t.isUndefined(e)?null:e)}function r(e){return JSON.parse(e)}var o,s;try{o=window.localStorage,o.setItem("~~~","!"),o.removeItem("~~~")}catch(a){o=null}return s=o&&window.JSON?{_prefix:function(e){return this.prefix+e},_ttlKey:function(e){return this._prefix(e)+this.ttlKey},get:function(e){return this.isExpired(e)&&this.remove(e),r(o.getItem(this._prefix(e)))},set:function(e,r,s){return t.isNumber(s)?o.setItem(this._ttlKey(e),i(n()+s)):o.removeItem(this._ttlKey(e)),o.setItem(this._prefix(e),i(r))},remove:function(e){return o.removeItem(this._ttlKey(e)),o.removeItem(this._prefix(e)),this},clear:function(){var e,t,n=[],i=o.length;for(e=0;i>e;e++)(t=o.key(e)).match(this.keyMatcher)&&n.push(t.replace(this.keyMatcher,""));for(e=n.length;e--;)this.remove(n[e]);return this},isExpired:function(e){var i=r(o.getItem(this._ttlKey(e)));return!!(t.isNumber(i)&&n()>i)}}:{get:t.noop,set:t.noop,remove:t.noop,clear:t.noop,isExpired:t.noop},t.mixin(e.prototype,s),e}(),s=function(){"use strict";function n(t){t=t||{},this.cancelled=!1,this.lastUrl=null,this._send=t.transport?i(t.transport):e.ajax,this._get=t.rateLimiter?t.rateLimiter(this._get):this._get,this._cache=t.cache===!1?new r(0):c}function i(n){return function(i,r){function o(e){t.defer(function(){a.resolve(e)})}function s(e){t.defer(function(){a.reject(e)})}var a=e.Deferred();return n(i,r,o,s),a}}var o=0,s={},a=6,c=new r(10);return n.setMaxPendingRequests=function(e){a=e},n.resetCache=function(){c.reset()},t.mixin(n.prototype,{_get:function(e,t,n){function i(t){n&&n(null,t),l._cache.set(e,t)}function r(){n&&n(!0)}function c(){o--,delete s[e],l.onDeckRequestArgs&&(l._get.apply(l,l.onDeckRequestArgs),l.onDeckRequestArgs=null)}var u,l=this;this.cancelled||e!==this.lastUrl||((u=s[e])?u.done(i).fail(r):a>o?(o++,s[e]=this._send(e,t).done(i).fail(r).always(c)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(e,n,i){var r;return t.isFunction(n)&&(i=n,n={}),this.cancelled=!1,this.lastUrl=e,(r=this._cache.get(e))?t.defer(function(){i&&i(null,r)}):this._get(e,n,i),!!r},cancel:function(){this.cancelled=!0}}),n}(),a=function(){"use strict";function n(t){t=t||{},t.datumTokenizer&&t.queryTokenizer||e.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=t.datumTokenizer,this.queryTokenizer=t.queryTokenizer,this.reset()}function i(e){return e=t.filter(e,function(e){return!!e}),e=t.map(e,function(e){return e.toLowerCase()})}function r(){return{ids:[],children:{}}}function o(e){for(var t={},n=[],i=0,r=e.length;r>i;i++)t[e[i]]||(t[e[i]]=!0,n.push(e[i]));return n}function s(e,t){function n(e,t){return e-t}var i=0,r=0,o=[];e=e.sort(n),t=t.sort(n);for(var s=e.length,a=t.length;s>i&&a>r;)e[i]<t[r]?i++:e[i]>t[r]?r++:(o.push(e[i]),i++,r++);return o}return t.mixin(n.prototype,{bootstrap:function(e){this.datums=e.datums,this.trie=e.trie},add:function(e){var n=this;e=t.isArray(e)?e:[e],t.each(e,function(e){var o,s;o=n.datums.push(e)-1,s=i(n.datumTokenizer(e)),t.each(s,function(e){var t,i,s;for(t=n.trie,i=e.split("");s=i.shift();)t=t.children[s]||(t.children[s]=r()),t.ids.push(o)})})},get:function(e){var n,r,a=this;return n=i(this.queryTokenizer(e)),t.each(n,function(e){var t,n,i,o;if(r&&0===r.length)return!1;for(t=a.trie,n=e.split("");t&&(i=n.shift());)t=t.children[i];return t&&0===n.length?(o=t.ids.slice(0),void(r=r?s(r,o):o)):(r=[],!1)}),r?t.map(o(r),function(e){return a.datums[e]}):[]},reset:function(){this.datums=[],this.trie=r()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),n}(),c=function(){"use strict";function i(e){return e.local||null}function r(i){var r,o;return o={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}},(r=i.prefetch||null)&&(r=t.isString(r)?{url:r}:r,r=t.mixin(o,r),r.thumbprint=n+r.thumbprint,r.ajax.type=r.ajax.type||"GET",r.ajax.dataType=r.ajax.dataType||"json",!r.url&&e.error("prefetch requires url to be set")),r}function o(n){function i(e){return function(n){return t.debounce(n,e)}}function r(e){return function(n){return t.throttle(n,e)}}var o,s;return s={url:null,cache:!0,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(o=n.remote||null)&&(o=t.isString(o)?{url:o}:o,o=t.mixin(s,o),o.rateLimiter=/^throttle$/i.test(o.rateLimitBy)?r(o.rateLimitWait):i(o.rateLimitWait),o.ajax.type=o.ajax.type||"GET",o.ajax.dataType=o.ajax.dataType||"json",delete o.rateLimitBy,delete o.rateLimitWait,!o.url&&e.error("remote requires url to be set")),o}return{local:i,prefetch:r,remote:o}}();!function(n){"use strict";function r(t){t&&(t.local||t.prefetch||t.remote)||e.error("one of local, prefetch, or remote is required"),this.limit=t.limit||5,this.sorter=u(t.sorter),this.dupDetector=t.dupDetector||l,this.local=c.local(t),this.prefetch=c.prefetch(t),this.remote=c.remote(t),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new a({datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),this.storage=this.cacheKey?new o(this.cacheKey):null}function u(e){function n(t){return t.sort(e)}function i(e){return e}return t.isFunction(e)?n:i}function l(){return!1}var d,h;return d=n.Bloodhound,h={data:"data",protocol:"protocol",thumbprint:"thumbprint"},n.Bloodhound=r,r.noConflict=function(){return n.Bloodhound=d,r},r.tokenizers=i,t.mixin(r.prototype,{_loadPrefetch:function(t){function n(e){o.clear(),o.add(t.filter?t.filter(e):e),o._saveToStorage(o.index.serialize(),t.thumbprint,t.ttl)}var i,r,o=this;return(i=this._readFromStorage(t.thumbprint))?(this.index.bootstrap(i),r=e.Deferred().resolve()):r=e.ajax(t.url,t.ajax).done(n),r},_getFromRemote:function(e,t){function n(e,n){t(e?[]:o.remote.filter?o.remote.filter(n):n)}var i,r,o=this;if(this.transport)return e=e||"",r=encodeURIComponent(e),i=this.remote.replace?this.remote.replace(this.remote.url,e):this.remote.url.replace(this.remote.wildcard,r),this.transport.get(i,this.remote.ajax,n)},_cancelLastRemoteRequest:function(){this.transport&&this.transport.cancel()},_saveToStorage:function(e,t,n){this.storage&&(this.storage.set(h.data,e,n),this.storage.set(h.protocol,location.protocol,n),this.storage.set(h.thumbprint,t,n))},_readFromStorage:function(e){var t,n={};return this.storage&&(n.data=this.storage.get(h.data),n.protocol=this.storage.get(h.protocol),n.thumbprint=this.storage.get(h.thumbprint)),t=n.thumbprint!==e||n.protocol!==location.protocol,n.data&&!t?n.data:null},_initialize:function(){function n(){r.add(t.isFunction(o)?o():o)}var i,r=this,o=this.local;return i=this.prefetch?this._loadPrefetch(this.prefetch):e.Deferred().resolve(),o&&i.done(n),this.transport=this.remote?new s(this.remote):null,this.initPromise=i.promise()},initialize:function(e){return!this.initPromise||e?this._initialize():this.initPromise},add:function(e){this.index.add(e)},get:function(e,n){function i(e){var i=o.slice(0);t.each(e,function(e){var n;return n=t.some(i,function(t){return r.dupDetector(e,t)}),!n&&i.push(e),i.length<r.limit}),n&&n(r.sorter(i))}var r=this,o=[],s=!1;o=this.index.get(e),o=this.sorter(o).slice(0,this.limit),o.length<this.limit?s=this._getFromRemote(e,i):this._cancelLastRemoteRequest(),s||(o.length>0||!this.transport)&&n&&n(o)},clear:function(){this.index.reset()},clearPrefetchCache:function(){this.storage&&this.storage.clear()},clearRemoteCache:function(){this.transport&&s.resetCache()},ttAdapter:function(){return t.bind(this.get,this)}}),r}(this);var u=function(){return{wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'}}(),l=function(){"use strict";var e={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return t.isMsie()&&t.mixin(e.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t.isMsie()&&t.isMsie()<=7&&t.mixin(e.input,{marginTop:"-1px"}),e}(),d=function(){"use strict";function n(t){t&&t.el||e.error("EventBus initialized without el"),this.$el=e(t.el)}var i="typeahead:";return t.mixin(n.prototype,{trigger:function(e){var t=[].slice.call(arguments,1);this.$el.trigger(i+e,t)}}),n}(),h=function(){"use strict";function e(e,t,n,i){var r;if(!n)return this;for(t=t.split(c),n=i?a(n,i):n,this._callbacks=this._callbacks||{};r=t.shift();)this._callbacks[r]=this._callbacks[r]||{sync:[],async:[]},this._callbacks[r][e].push(n);return this}function t(t,n,i){return e.call(this,"async",t,n,i)}function n(t,n,i){return e.call(this,"sync",t,n,i)}function i(e){
var t;if(!this._callbacks)return this;for(e=e.split(c);t=e.shift();)delete this._callbacks[t];return this}function r(e){var t,n,i,r,s;if(!this._callbacks)return this;for(e=e.split(c),i=[].slice.call(arguments,1);(t=e.shift())&&(n=this._callbacks[t]);)r=o(n.sync,this,[t].concat(i)),s=o(n.async,this,[t].concat(i)),r()&&u(s);return this}function o(e,t,n){function i(){for(var i,r=0,o=e.length;!i&&o>r;r+=1)i=e[r].apply(t,n)===!1;return!i}return i}function s(){var e;return e=window.setImmediate?function(e){setImmediate(function(){e()})}:function(e){setTimeout(function(){e()},0)}}function a(e,t){return e.bind?e.bind(t):function(){e.apply(t,[].slice.call(arguments,0))}}var c=/\s+/,u=s();return{onSync:n,onAsync:t,off:i,trigger:r}}(),f=function(e){"use strict";function n(e,n,i){for(var r,o=[],s=0,a=e.length;a>s;s++)o.push(t.escapeRegExChars(e[s]));return r=i?"\\b("+o.join("|")+")\\b":"("+o.join("|")+")",n?new RegExp(r):new RegExp(r,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(r){function o(t){var n,i,o;return(n=a.exec(t.data))&&(o=e.createElement(r.tagName),r.className&&(o.className=r.className),i=t.splitText(n.index),i.splitText(n[0].length),o.appendChild(i.cloneNode(!0)),t.parentNode.replaceChild(o,i)),!!n}function s(e,t){for(var n,i=3,r=0;r<e.childNodes.length;r++)n=e.childNodes[r],n.nodeType===i?r+=t(n)?1:0:s(n,t)}var a;r=t.mixin({},i,r),r.node&&r.pattern&&(r.pattern=t.isArray(r.pattern)?r.pattern:[r.pattern],a=n(r.pattern,r.caseSensitive,r.wordsOnly),s(r.node,o))}}(window.document),p=function(){"use strict";function n(n){var r,o,a,c,u=this;n=n||{},n.input||e.error("input is missing"),r=t.bind(this._onBlur,this),o=t.bind(this._onFocus,this),a=t.bind(this._onKeydown,this),c=t.bind(this._onInput,this),this.$hint=e(n.hint),this.$input=e(n.input).on("blur.tt",r).on("focus.tt",o).on("keydown.tt",a),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=t.noop),t.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(e){s[e.which||e.keyCode]||t.defer(t.bind(u._onInput,u,e))}):this.$input.on("input.tt",c),this.query=this.$input.val(),this.$overflowHelper=i(this.$input)}function i(t){return e('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function r(e,t){return n.normalizeQuery(e)===n.normalizeQuery(t)}function o(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}var s;return s={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(e){return(e||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},t.mixin(n.prototype,h,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(e){var t=s[e.which||e.keyCode];this._managePreventDefault(t,e),t&&this._shouldTrigger(t,e)&&this.trigger(t+"Keyed",e)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(e,t){var n,i,r;switch(e){case"tab":i=this.getHint(),r=this.getInputValue(),n=i&&i!==r&&!o(t);break;case"up":case"down":n=!o(t);break;default:n=!1}n&&t.preventDefault()},_shouldTrigger:function(e,t){var n;switch(e){case"tab":n=!o(t);break;default:n=!0}return n},_checkInputValue:function(){var e,t,n;e=this.getInputValue(),t=r(e,this.query),n=t?this.query.length!==e.length:!1,this.query=e,t?n&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(e){this.query=e},getInputValue:function(){return this.$input.val()},setInputValue:function(e,t){this.$input.val(e),t?this.clearHint():this._checkInputValue()},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(e){this.$hint.val(e)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var e,t,n,i;e=this.getInputValue(),t=this.getHint(),n=e!==t&&0===t.indexOf(e),i=""!==e&&n&&!this.hasOverflow(),!i&&this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var e=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var e,n,i;return e=this.$input.val().length,n=this.$input[0].selectionStart,t.isNumber(n)?n===e:document.selection?(i=document.selection.createRange(),i.moveStart("character",-e),e===i.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),n}(),g=function(){"use strict";function n(n){n=n||{},n.templates=n.templates||{},n.source||e.error("missing source"),n.name&&!o(n.name)&&e.error("invalid dataset name: "+n.name),this.query=null,this.highlight=!!n.highlight,this.name=n.name||t.getUniqueId(),this.source=n.source,this.displayFn=i(n.display||n.displayKey),this.templates=r(n.templates,this.displayFn),this.$el=e(u.dataset.replace("%CLASS%",this.name))}function i(e){function n(t){return t[e]}return e=e||"value",t.isFunction(e)?e:n}function r(e,n){function i(e){return"<p>"+n(e)+"</p>"}return{empty:e.empty&&t.templatify(e.empty),header:e.header&&t.templatify(e.header),footer:e.footer&&t.templatify(e.footer),suggestion:e.suggestion||i}}function o(e){return/^[_a-zA-Z0-9-]+$/.test(e)}var s="ttDataset",a="ttValue",c="ttDatum";return n.extractDatasetName=function(t){return e(t).data(s)},n.extractValue=function(t){return e(t).data(a)},n.extractDatum=function(t){return e(t).data(c)},t.mixin(n.prototype,h,{_render:function(n,i){function r(){return g.templates.empty({query:n,isEmpty:!0})}function o(){function r(t){var n;return n=e(u.suggestion).append(g.templates.suggestion(t)).data(s,g.name).data(a,g.displayFn(t)).data(c,t),n.children().each(function(){e(this).css(l.suggestionChild)}),n}var o,d;return o=e(u.suggestions).css(l.suggestions),d=t.map(i,r),o.append.apply(o,d),g.highlight&&f({className:"tt-highlight",node:o[0],pattern:n}),o}function d(){return g.templates.header({query:n,isEmpty:!p})}function h(){return g.templates.footer({query:n,isEmpty:!p})}if(this.$el){var p,g=this;this.$el.empty(),p=i&&i.length,!p&&this.templates.empty?this.$el.html(r()).prepend(g.templates.header?d():null).append(g.templates.footer?h():null):p&&this.$el.html(o()).prepend(g.templates.header?d():null).append(g.templates.footer?h():null),this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(e){function t(t){n.canceled||e!==n.query||n._render(e,t)}var n=this;this.query=e,this.canceled=!1,this.source(e,t)},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger("rendered")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),n}(),m=function(){"use strict";function n(n){var r,o,s,a=this;n=n||{},n.menu||e.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=t.map(n.datasets,i),r=t.bind(this._onSuggestionClick,this),o=t.bind(this._onSuggestionMouseEnter,this),s=t.bind(this._onSuggestionMouseLeave,this),this.$menu=e(n.menu).on("click.tt",".tt-suggestion",r).on("mouseenter.tt",".tt-suggestion",o).on("mouseleave.tt",".tt-suggestion",s),t.each(this.datasets,function(e){a.$menu.append(e.getRoot()),e.onSync("rendered",a._onRendered,a)})}function i(e){return new g(e)}return t.mixin(n.prototype,h,{_onSuggestionClick:function(t){this.trigger("suggestionClicked",e(t.currentTarget))},_onSuggestionMouseEnter:function(t){this._removeCursor(),this._setCursor(e(t.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){function e(e){return e.isEmpty()}this.isEmpty=t.every(this.datasets,e),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(e,t){e.first().addClass("tt-cursor"),!t&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(e){var t,n,i,r;if(this.isOpen){if(n=this._getCursor(),t=this._getSuggestions(),this._removeCursor(),i=t.index(n)+e,i=(i+1)%(t.length+1)-1,-1===i)return void this.trigger("cursorRemoved");-1>i&&(i=t.length-1),this._setCursor(r=t.eq(i)),this._ensureVisible(r)}},_ensureVisible:function(e){var t,n,i,r;t=e.position().top,n=t+e.outerHeight(!0),i=this.$menu.scrollTop(),r=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),0>t?this.$menu.scrollTop(i+t):n>r&&this.$menu.scrollTop(i+(n-r))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(e){this.$menu.css("ltr"===e?l.ltr:l.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(e){var t=null;return e.length&&(t={raw:g.extractDatum(e),value:g.extractValue(e),datasetName:g.extractDatasetName(e)}),t},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(e){function n(t){t.update(e)}t.each(this.datasets,n)},empty:function(){function e(e){e.clear()}t.each(this.datasets,e),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function e(e){e.destroy()}this.$menu.off(".tt"),this.$menu=null,t.each(this.datasets,e)}}),n}(),v=function(){"use strict";function n(n){var r,o,s;n=n||{},n.input||e.error("missing input"),this.isActivated=!1,this.autoselect=!!n.autoselect,this.minLength=t.isNumber(n.minLength)?n.minLength:1,this.$node=i(n.input,n.withHint),r=this.$node.find(".tt-dropdown-menu"),o=this.$node.find(".tt-input"),s=this.$node.find(".tt-hint"),o.on("blur.tt",function(e){var n,i,s;n=document.activeElement,i=r.is(n),s=r.has(n).length>0,t.isMsie()&&(i||s)&&(e.preventDefault(),e.stopImmediatePropagation(),t.defer(function(){o.focus()}))}),r.on("mousedown.tt",function(e){e.preventDefault()}),this.eventBus=n.eventBus||new d({el:o}),this.dropdown=new m({menu:r,datasets:n.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new p({input:o,hint:s}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._setLanguageDirection()}function i(t,n){var i,o,a,c;i=e(t),o=e(u.wrapper).css(l.wrapper),a=e(u.dropdown).css(l.dropdown),c=i.clone().css(l.hint).css(r(i)),c.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder required").prop("readonly",!0).attr({autocomplete:"off",spellcheck:"false",tabindex:-1}),i.data(s,{dir:i.attr("dir"),autocomplete:i.attr("autocomplete"),spellcheck:i.attr("spellcheck"),style:i.attr("style")}),i.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(n?l.input:l.inputWithNoHint);try{!i.attr("dir")&&i.attr("dir","auto")}catch(d){}return i.wrap(o).parent().prepend(n?c:null).append(a)}function r(e){return{backgroundAttachment:e.css("background-attachment"),backgroundClip:e.css("background-clip"),backgroundColor:e.css("background-color"),backgroundImage:e.css("background-image"),backgroundOrigin:e.css("background-origin"),backgroundPosition:e.css("background-position"),backgroundRepeat:e.css("background-repeat"),backgroundSize:e.css("background-size")}}function o(e){var n=e.find(".tt-input");t.each(n.data(s),function(e,i){t.isUndefined(e)?n.removeAttr(i):n.attr(i,e)}),n.detach().removeData(s).removeClass("tt-input").insertAfter(e),e.remove()}var s="ttAttrs";return t.mixin(n.prototype,{_onSuggestionClicked:function(e,t){var n;(n=this.dropdown.getDatumForSuggestion(t))&&this._select(n)},_onCursorMoved:function(){var e=this.dropdown.getDatumForCursor();this.input.setInputValue(e.value,!0),this.eventBus.trigger("cursorchanged",e.raw,e.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.isActivated=!0,this.dropdown.open()},_onBlurred:function(){this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()},_onEnterKeyed:function(e,t){var n,i;n=this.dropdown.getDatumForCursor(),i=this.dropdown.getDatumForTopSuggestion(),n?(this._select(n),t.preventDefault()):this.autoselect&&i&&(this._select(i),t.preventDefault())},_onTabKeyed:function(e,t){var n;(n=this.dropdown.getDatumForCursor())?(this._select(n),t.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var e=this.input.getQuery();this.dropdown.isEmpty&&e.length>=this.minLength?this.dropdown.update(e):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var e=this.input.getQuery();this.dropdown.isEmpty&&e.length>=this.minLength?this.dropdown.update(e):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(e,t){this.input.clearHintIfInvalid(),t.length>=this.minLength?this.dropdown.update(t):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var e;this.dir!==(e=this.input.getLanguageDirection())&&(this.dir=e,this.$node.css("direction",e),this.dropdown.setLanguageDirection(e))},_updateHint:function(){var e,n,i,r,o,s;e=this.dropdown.getDatumForTopSuggestion(),e&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(n=this.input.getInputValue(),i=p.normalizeQuery(n),r=t.escapeRegExChars(i),o=new RegExp("^(?:"+r+")(.+$)","i"),s=o.exec(e.value),s?this.input.setHint(n+s[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(e){var t,n,i,r;t=this.input.getHint(),n=this.input.getQuery(),i=e||this.input.isCursorAtEnd(),t&&n!==t&&i&&(r=this.dropdown.getDatumForTopSuggestion(),r&&this.input.setInputValue(r.value),this.eventBus.trigger("autocompleted",r.raw,r.datasetName))},_select:function(e){this.input.setQuery(e.value),this.input.setInputValue(e.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",e.raw,e.datasetName),this.dropdown.close(),t.defer(t.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(e){e=t.toStr(e),this.isActivated?this.input.setInputValue(e):(this.input.setQuery(e),this.input.setInputValue(e,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy(),this.dropdown.destroy(),o(this.$node),this.$node=null}}),n}();!function(){"use strict";var n,i,r;n=e.fn.typeahead,i="ttTypeahead",r={initialize:function(n,r){function o(){var o,s,a=e(this);t.each(r,function(e){e.highlight=!!n.highlight}),s=new v({input:a,eventBus:o=new d({el:a}),withHint:t.isUndefined(n.hint)?!0:!!n.hint,minLength:n.minLength,autoselect:n.autoselect,datasets:r}),a.data(i,s)}return r=t.isArray(r)?r:[].slice.call(arguments,1),n=n||{},this.each(o)},open:function(){function t(){var t,n=e(this);(t=n.data(i))&&t.open()}return this.each(t)},close:function(){function t(){var t,n=e(this);(t=n.data(i))&&t.close()}return this.each(t)},val:function(t){function n(){var n,r=e(this);(n=r.data(i))&&n.setVal(t)}function r(e){var t,n;return(t=e.data(i))&&(n=t.getVal()),n}return arguments.length?this.each(n):r(this.first())},destroy:function(){function t(){var t,n=e(this);(t=n.data(i))&&(t.destroy(),n.removeData(i))}return this.each(t)}},e.fn.typeahead=function(t){var n;return r[t]&&"initialize"!==t?(n=this.filter(function(){return!!e(this).data(i)}),r[t].apply(n,[].slice.call(arguments,1))):r.initialize.apply(this,arguments)},e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this}}()}(window.jQuery);